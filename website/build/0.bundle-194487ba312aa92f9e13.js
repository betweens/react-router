webpackJsonp([0],{67:function(n,a){n.exports={markup:'<h1 id=""><a href="/core/guides/" class="internal-link">&#x5904;&#x7406;&#x66F4;&#x65B0;&#x963B;&#x6B62;</a></h1>\n<!-- React Router has a number of location-aware components that use the current `location` object to determine what they render. By default, the current `location` is passed implicitly to components using React\'s context model. When the location changes, those components should re-render using the new `location` object from the context. -->\n<p>React&#x8DEF;&#x7531;&#x5668;&#x6709;&#x8BB8;&#x591A;&#x4F4D;&#x7F6E;&#x611F;&#x77E5;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x7684;&#x201C;location&#x201D;&#x5BF9;&#x8C61;&#x6765;&#x786E;&#x5B9A;&#x5B83;&#x4EEC;&#x5448;&#x73B0;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x524D;&#x7684;<code>location</code>&#x901A;&#x8FC7;React&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x6A21;&#x578B;&#x9690;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;&#x7EC4;&#x4EF6;&#x3002; &#x5F53;location&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x65B0;&#x7684;&#x201C;location&#x201D;&#x5BF9;&#x8C61;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;</p>\n<!-- React provides two approaches to optimize the rendering performance of applications: the `shouldComponentUpdate` lifecycle method and the `PureComponent`. Both block the re-rendering of components unless the right conditions are met. Unfortunately, this means that React Router\'s location-aware components can become out of sync with the current location if their re-rendering was prevented. -->\n<p>React&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6765;&#x4F18;&#x5316;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6E32;&#x67D3;&#x6027;&#x80FD;&#xFF1A;<code>shouldComponentUpdate</code>&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x548C;<code>PureComponent</code>&#x3002; &#x9664;&#x975E;&#x6EE1;&#x8DB3;&#x6B63;&#x786E;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x90FD;&#x4F1A;&#x963B;&#x6B62;&#x7EC4;&#x4EF6;&#x7684;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002; &#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;React Router&#x7684;&#x4F4D;&#x7F6E;&#x611F;&#x77E5;&#x7EC4;&#x4EF6;&#x53EF;&#x80FD;&#x4F1A;&#x4E0E;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x4E0D;&#x540C;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x7684;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x88AB;&#x963B;&#x6B62;&#x7684;&#x8BDD;&#x3002;</p>\n<h3>Example of the Problem</h3>\n<p>&#x6211;&#x4EEC;&#x4ECE;&#x4E00;&#x4E2A;&#x963B;&#x6B62;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#x5F00;&#x59CB;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">UpdateBlocker</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<!-- When the `<UpdateBlocker>` is mounting, any location-aware child components will use the current `location` and `match` objects to render. -->\n<p>&#x5F53;&#x201C;<updateblocker>&#x201D;&#x88C5;&#x8F7D;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55;&#x4F4D;&#x7F6E;&#x611F;&#x77E5;&#x7684;&#x5B50;&#x7EC4;&#x4EF6;&#x90FD;&#x5C06;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x7684;&#x201C;location&#x201D;&#x548C;&#x201C;match&#x201D;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x3002;</updateblocker></p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// location = { pathname: &apos;/about&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/about&apos; class=&apos;active&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/faq&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>/<em>When the location changes, the <code>&lt;UpdateBlocker&gt;</code> does not detect any prop or state changes, so its child components will not be re-rendered.</em>/\n&#x5F53;location&#x6539;&#x53D8;&#x65F6;&#xFF0C;<code>&lt;UpdateBlocker&gt;</code>&#x4E0D;&#x68C0;&#x6D4B;&#x4EFB;&#x4F55;prop&#x6216;&#x72B6;&#x6001;&#x6539;&#x53D8;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x7684;&#x5B50;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// location = { pathname: &apos;/faq&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &#x94FE;&#x63A5;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4EEC;&#x4FDD;&#x7559;&#x4E86;&#x4EE5;&#x524D;&#x7684;&#x5C5E;&#x6027;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/about&apos; class=&apos;active&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/faq&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h3><code>shouldComponentUpdate</code></h3>\n<p>/<em>In order for a component that implements <code>shouldComponentUpdate</code> to know that it <em>should</em> update when the location changes, its <code>shouldComponentUpdate</code> method needs to be able to detect location changes.</em>/\n&#x4E3A;&#x4E86;&#x4F7F;&#x5B9E;&#x73B0;<code>shouldComponentUpdate</code>&#x7684;&#x7EC4;&#x4EF6;&#x77E5;&#x9053;&#x5B83;&#x5E94;&#x8BE5;&#x5728;&#x4F4D;&#x7F6E;&#x66F4;&#x6539;&#x65F6;&#x66F4;&#x65B0;&#xFF0C;&#x5B83;&#x7684;<code>shouldComponentUpdate</code>&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x80FD;&#x591F;&#x68C0;&#x6D4B;&#x4F4D;&#x7F6E;&#x66F4;&#x6539;&#x3002;</p>\n<p>/<em>If you are implementing <code>shouldComponentUpdate</code> yourself, you <em>could</em> compare the location from the current and next <code>context.router</code> objects. However, as a user, you should not have to use context directly. Instead, it would be ideal if you could compare the current and next <code>location</code> without touching the context.</em>/\n&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;<code>shouldComponentUpdate</code>&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x5F53;&#x524D;&#x548C;&#x4E0B;&#x4E00;&#x4E2A;<code>context.router</code>&#x5BF9;&#x8C61;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x4F5C;&#x4E3A;&#x7528;&#x6237;&#xFF0C;&#x60A8;&#x4E0D;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x89E6;&#x53CA;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6BD4;&#x8F83;&#x5F53;&#x524D;&#x548C;&#x4E0B;&#x4E00;&#x4E2A;&#x201C;&#x4F4D;&#x7F6E;&#x201D;&#xFF0C;&#x90A3;&#x5C06;&#x662F;&#x7406;&#x60F3;&#x7684;&#x3002;</p>\n<h4>&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;</h4>\n<p>/<em>You may run into issues with components not updating after a location change despite not calling <code>shouldComponentUpdate</code> yourself. This is most likely because <code>shouldComponentUpdate</code> is being called by third-party code, such as <code>react-redux</code>&apos;s <code>connect</code> and <code>mobx-react</code>&apos;s <code>observer</code>.</em>/\n&#x5C3D;&#x7BA1;&#x4F60;&#x81EA;&#x5DF1;&#x4E0D;&#x8C03;&#x7528;<code>shouldComponentUpdate</code>&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x7EC4;&#x4EF6;&#x66F4;&#x65B0;&#x540E;&#x4E0D;&#x80FD;&#x66F4;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x3002; &#x8FD9;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x56E0;&#x4E3A;<code>shouldComponentUpdate</code>&#x88AB;&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;&#x8C03;&#x7528;&#xFF0C;&#x6BD4;&#x5982;<code>react-redux</code>&#x7684;<code>connect</code>&#x548C;<code>mobx-react</code>&#x7684;<code>observer</code>&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// react-redux</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// mobx-react</span>\n<span class="token keyword">const</span> MyObservedComponent <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n</code></pre>\n<p>/<em>With third-party code, you likely cannot even control the implementation of <code>shouldComponentUpdate</code>. Instead, you will have to structure your code to make location changes obvious to those methods.</em>/\n&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x751A;&#x81F3;&#x65E0;&#x6CD5;&#x63A7;&#x5236;<code>shouldComponentUpdate</code>&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x4F60;&#x5C06;&#x4E0D;&#x5F97;&#x4E0D;&#x6784;&#x5EFA;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F7F;&#x4F4D;&#x7F6E;&#x53D8;&#x5316;&#x660E;&#x663E;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>\n<p>/<em>Both <code>connect</code> and <code>observer</code> create components whose <code>shouldComponentUpdate</code> methods do a shallow comparison of their current <code>props</code> and their next <code>props</code>. Those components will only re-render when at least one prop has changed. This means that in order to ensure they update when the location changes, they will need to be given a prop that changes when the location changes.</em>/\n<code>connect</code>&#x548C;<code>observer</code>&#x90FD;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E9B;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;<code>shouldComponentUpdate</code>&#x65B9;&#x6CD5;&#x5BF9;&#x4ED6;&#x4EEC;&#x5F53;&#x524D;&#x7684;<code>props</code>&#x548C;&#x4ED6;&#x4EEC;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;<code>props</code>&#x8FDB;&#x884C;&#x6D45;&#x5C42;&#x7684;&#x6BD4;&#x8F83;&#x3002; &#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x53EA;&#x6709;&#x5728;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;props&#x6539;&#x53D8;&#x65F6;&#x624D;&#x4F1A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x4ED6;&#x4EEC;&#x5728;&#x4F4D;&#x7F6E;&#x53D8;&#x5316;&#x65F6;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x5F53;&#x4F4D;&#x7F6E;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x4ED6;&#x4EEC;&#x9700;&#x8981;&#x88AB;&#x8D4B;&#x4E88;&#x4E00;&#x4E2A;&#x6539;&#x53D8;&#x7684;props&#x3002;</p>\n<h3><code>PureComponent</code></h3>\n<p>/<em>React&#x2019;s <code>PureComponent</code> does not implement <code>shouldComponentUpdate</code>, but it takes a similar approach to preventing updates. When a &#x201C;pure&#x201D; component updates, it will do a shallow comparison of its current <code>props</code> and <code>state</code> to the next <code>props</code> and <code>state</code>. If the comparison does not detect any differences, the component will not update. Like with <code>shouldComponentUpdate</code>, that means that in order to force a &#x201C;pure&#x201D; component to update when the location changes, it needs to have a prop or state that has changed.</em>/\nReact&#x7684;<code>PureComponent</code>&#x4E0D;&#x5B9E;&#x73B0;<code>shouldComponentUpdate</code>&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x91C7;&#x53D6;&#x4E86;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x9632;&#x6B62;&#x66F4;&#x65B0;&#x3002; &#x5F53;&#x4E00;&#x4E2A;&#x201C;&#x7EAF;&#x7CB9;&#x7684;&#x201D;&#x7EC4;&#x4EF6;&#x66F4;&#x65B0;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5BF9;&#x5176;&#x5F53;&#x524D;&#x7684;&#x201C;props&#x201D;&#x548C;&#x201C;state&#x201D;&#x4E0E;&#x4E0B;&#x4E00;&#x4E2A;&#x201C;props&#x201D;&#x548C;&#x201C;state&#x201D;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002; &#x5982;&#x679C;&#x6BD4;&#x8F83;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x4EFB;&#x4F55;&#x5DEE;&#x5F02;&#xFF0C;&#x5219;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#x3002; &#x5C31;&#x50CF;<code>shouldComponentUpdate</code>&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E3A;&#x4E86;&#x5F3A;&#x5236;&#x66F4;&#x65B0;&#x4E00;&#x4E2A;&#x201C;&#x7EAF;&#x7CB9;&#x201D;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;prop&#x6216;&#x8005;state&#x6539;&#x53D8;&#x3002;</p>\n<h3>&#x89E3;&#x51B3;&#x65B9;&#x6848;</h3>\n<h4>&#x5FEB;&#x901F;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>\n<p>/<em>If you are running into this issue while using a higher-order component like <code>connect</code> (from react-redux) or <code>observer</code> (from Mobx), you can just wrap that component in a <code>withRouter</code> to remove the blocked updates.</em>/\n&#x5982;&#x679C;&#x5728;&#x4F7F;&#x7528;&#x50CF;connect&#x8FD9;&#x6837;&#x7684;&#x9AD8;&#x7EA7;&#x7EC4;&#x4EF6;&#x65F6;&#xFF08;&#x6765;&#x81EA;react-redux&#xFF09;&#x6216;observer&#xFF08;&#x6765;&#x81EA;Mobx&#xFF09;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5C01;&#x88C5;&#x5728;&#x4E00;&#x4E2A;<code>withRouter</code>&#x4E2D;&#x53BB;&#x9664;&#x963B;&#x585E;&#x7684;&#x66F4;&#x65B0;&#x3002;</p>\n<pre><code class="language-javascript"><span class="token comment" spellcheck="true">// redux before</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n<span class="token comment" spellcheck="true">// redux after</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// mobx before</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n<span class="token comment" spellcheck="true">// mobx after</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n<p><strong>This is not the most efficient solution</strong>, but will prevent the blocked updates issue. For more info regarding this solution, read the <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/redux.md#blocked-updates">Redux guide</a>.  To understand why this is not the most optimal solution, read <a href="https://github.com/ReactTraining/react-router/pull/5552#issuecomment-331502281">this thread</a>.\n<strong>&#x8FD9;&#x4E0D;&#x662F;&#x6700;&#x6709;&#x6548;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</strong>&#xFF0C;&#x4F46;&#x4F1A;&#x963B;&#x6B62;&#x66F4;&#x65B0;&#x95EE;&#x9898;&#x3002; &#x6709;&#x5173;&#x6B64;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/redux.md#blocked-updates">Redux&#x6307;&#x5357;</a>. &#x8981;&#x7406;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E0D;&#x662F;&#x6700;&#x7406;&#x60F3;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;<a href="https://github.com/ReactTraining/react-router/pull/5552#issuecomment-331502281">this thread</a>&#x3002;</p>\n<h4>&#x63A8;&#x8350;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>\n<p>/<em>The key to avoiding blocked re-renders after location changes is to pass the blocking component the <code>location</code> object as a prop. This will be different whenever the location changes, so comparisons will detect that the current and next location are different.</em>/\n&#x5728;location&#x53D8;&#x5316;&#x4E4B;&#x540E;&#x907F;&#x514D;&#x88AB;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x7684;&#x5173;&#x952E;&#x662F;&#x5C06;&#x963B;&#x585E;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;prop&#x4F20;&#x9012;&#x7ED9;<code>location</code>&#x5BF9;&#x8C61;&#x3002; &#x53EA;&#x8981;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x60C5;&#x51B5;&#x5C31;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x6BD4;&#x8F83;&#x4F1A;&#x68C0;&#x6D4B;&#x5230;&#x5F53;&#x524D;&#x548C;&#x4E0B;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// location = { pathname: &apos;/about&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/about&apos; class=&apos;active&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/faq&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment" spellcheck="true">// location = { pathname: &apos;/faq&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/about&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">// &lt;a href=&apos;/faq&apos; class=&apos;active&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h4>&#x83B7;&#x53D6;&#x4F4D;&#x7F6E;</h4>\n<p>&#x4E3A;&#x4E86;&#x5C06;&#x5F53;&#x524D;&#x7684;<code>location</code>&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;prop&#x4F20;&#x9012;&#x7ED9;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x6709;&#x6743;&#x8BBF;&#x95EE;&#x5B83;&#x3002; &#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;<code>location</code>&#x7684;&#x4E3B;&#x8981;&#x65B9;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x7EC4;&#x4EF6;&#x3002; &#x5F53;&#x4E00;&#x4E2A;&#x201C;<route>&#x201D;&#x5339;&#x914D;&#x65F6;&#xFF08;&#x6216;&#x8005;&#x603B;&#x662F;&#x4F7F;&#x7528;&#x201C;children&#x201D;&#x5C5E;&#x6027;&#xFF09;&#xFF0C;&#x5B83;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x201C;location&#x201D;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x6240;&#x5448;&#x73B0;&#x7684;&#x5B50;&#x5143;&#x7D20;&#x3002;</route></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/here<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Here<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token keyword">const</span> Here <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// props.location = { pathname: &apos;/here&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span>\n\n<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&apos;/there&apos;</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// props.location = { pathname: &apos;/there&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are there<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n\n<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&apos;/everywhere&apos;</span> children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// props.location = { pathname: &apos;/everywhere&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are everywhere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<!-- This means that given a component that blocks updates, you can easily pass it the `location` as a prop in the following ways: -->\n<p>&#x8FD9;&#x610F;&#x5473;&#x7740;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x963B;&#x6B62;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x628A;&#x5B83;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;prop&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#xFF0C;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// the Blocker is a &quot;pure&quot; component, so it will only</span>\n<span class="token comment" spellcheck="true">// update when it receives new props</span>\n<span class="token keyword">class</span> <span class="token class-name">Blocker</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/oz<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Oz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/kansas<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Kansas<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>1.&#x4E00;&#x4E2A;&#x7531;<route>&#x76F4;&#x63A5;&#x5448;&#x73B0;&#x7684;&#x7EC4;&#x4EF6;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x88AB;&#x963B;&#x585E;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C06;<code>location</code>&#x6CE8;&#x5165;&#x4E3A;prop&#x3002;</route></p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// The &lt;Blocker&gt;&apos;s location prop will change whenever</span>\n<span class="token comment" spellcheck="true">// the location changes</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/:place<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Blocker<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>2.&#x76F4;&#x63A5;&#x7531;<route>&#x5448;&#x73B0;&#x7684;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x4F4D;&#x7F6E;prop&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x521B;&#x5EFA;&#x7684;&#x4EFB;&#x4F55;&#x5B50;&#x5143;&#x7D20;&#x3002;</route></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/parent<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Parent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n\n<span class="token keyword">const</span> Parent <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// &lt;Parent&gt; receives the location as a prop. Any child</span>\n  <span class="token comment" spellcheck="true">// element it creates can be passed the location.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Blocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>location<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x7EC4;&#x4EF6;&#x4E0D;&#x662F;&#x7531;<route>&#x5448;&#x73B0;&#xFF0C;&#x5E76;&#x4E14;&#x7EC4;&#x4EF6;&#x5728;&#x5176;&#x53D8;&#x91CF;&#x8303;&#x56F4;&#x5185;&#x6CA1;&#x6709;&#x201C;location&#x201D;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#xFF1F; &#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5C06;<code>location</code>&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x5230;&#x7EC4;&#x4EF6;&#x4E2D;&#x3002;</route></p>\n<p>1.&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x65E0;&#x8DEF;&#x5F84;&#x7684;&#x201C;<route>&#x201D;&#x3002; &#x867D;&#x7136;<code>&lt;Route&gt;</code>&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x7279;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x65E0;&#x8DEF;&#x5F84;&#x7684;<code>&lt;Route&gt;</code>&#x5C06;&#x59CB;&#x7EC8;&#x5339;&#x914D;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x5C06;&#x59CB;&#x7EC8;&#x5448;&#x73B0;&#x5176;&#x7EC4;&#x4EF6;&#x3002;</route></p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// &#x65E0;&#x8DEF;&#x5F84;&lt;Route&gt; = &lt;Blocker&gt;&#x5C06;&#x59CB;&#x7EC8;&#x5448;&#x73B0;</span>\n<span class="token keyword">const</span> MyComponent<span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Blocker<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>2.&#x4F60;&#x53EF;&#x4EE5;&#x7528;<code>withRouter</code>&#x9AD8;&#x7EA7;&#x7EC4;&#x4EF6;&#x5305;&#x88C5;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x5C06;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x5F53;&#x524D;&#x7684;<code>location</code>&#x4F5C;&#x4E3A;&#x5B83;&#x7684;&#x4E00;&#x4E2A;props&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// &#x5728;&#x5185;&#x90E8;&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x53EA;&#x662F;&#x5448;&#x73B0;&#x65E0;&#x8DEF;&#x5F84;&#x7684;&lt;Route&gt;</span>\n<span class="token keyword">const</span> BlockAvoider <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Blocker<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BlockAvoider</span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n',
headers:[],title:{text:"处理更新阻止",slug:""}}},68:function(n,a){n.exports={markup:'<h1 id="philosophy"><a href="/core/guides/philosophy" class="internal-link">Philosophy</a></h1>\n<p>&#x672C;&#x6307;&#x5357;&#x7684;&#x76EE;&#x7684;&#x662F;&#x89E3;&#x91CA;&#x4F7F;&#x7528;React Router&#x65F6;&#x7684;&#x6A21;&#x578B;&#x3002; &#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x201C;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x201D;&#xFF0C;&#x5B83;&#x4E0E;&#x60A8;&#x53EF;&#x80FD;&#x66F4;&#x719F;&#x6089;&#x7684;&#x201C;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x201D;&#x6709;&#x5F88;&#x5927;&#x4E0D;&#x540C;&#x3002;</p>\n<h2 id="philosophy-static-routing"><a href="/core/guides/philosophy/static-routing" class="internal-link">Static Routing</a></h2>\n<p>&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x8FC7;Rails&#xFF0C;Express&#xFF0C;Ember&#xFF0C;Angular&#x7B49;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x3002; &#x5728;&#x8FD9;&#x4E9B;&#x6846;&#x67B6;&#x4E2D;&#xFF0C;&#x5728;&#x4EFB;&#x4F55;&#x5448;&#x73B0;&#x53D1;&#x751F;&#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x60A8;&#x7684;&#x8DEF;&#x7531;&#x58F0;&#x660E;&#x4E3A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x521D;&#x59CB;&#x5316;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002; React Router pre-v4&#x4E5F;&#x662F;&#x9759;&#x6001;&#x7684;&#xFF08;&#x4E3B;&#x8981;&#x662F;&#xFF09;&#x3002; &#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x5982;&#x4F55;&#x914D;&#x7F6E;&#x5FEB;&#x901F;&#x8DEF;&#x7531;:</p>\n<pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span> handleIndex<span class="token punctuation">)</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&apos;/invoices&apos;</span><span class="token punctuation">,</span> handleInvoices<span class="token punctuation">)</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&apos;/invoices/:id&apos;</span><span class="token punctuation">,</span> handleInvoice<span class="token punctuation">)</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&apos;/invoices/:id/edit&apos;</span><span class="token punctuation">,</span> handleInvoiceEdit<span class="token punctuation">)</span>\n\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre>\n<p>&#x6CE8;&#x610F;&#x8DEF;&#x7531;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4FA6;&#x542C;&#x4E4B;&#x524D;&#x662F;&#x5982;&#x4F55;&#x58F0;&#x660E;&#x7684;&#x3002; &#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8DEF;&#x7531;&#x5668;&#x662F;&#x76F8;&#x4F3C;&#x7684;&#x3002; &#x5728;Angular&#x4E2D;&#xFF0C;&#x4F60;&#x5148;&#x58F0;&#x660E;&#x4F60;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x5C06;&#x5B83;&#x4EEC;&#x5BFC;&#x5165;&#x5230;&#x9876;&#x5C42;&#x7684;AppModule&#x4E2D;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> appRoutes<span class="token punctuation">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;crisis-center&apos;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> CrisisListComponent\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;hero/:id&apos;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> HeroDetailComponent\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;heroes&apos;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> HeroListComponent<span class="token punctuation">,</span>\n    data<span class="token punctuation">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">&apos;Heroes List&apos;</span> <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>\n    redirectTo<span class="token punctuation">:</span> <span class="token string">&apos;/heroes&apos;</span><span class="token punctuation">,</span>\n    pathMatch<span class="token punctuation">:</span> <span class="token string">&apos;full&apos;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;**&apos;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> PageNotFoundComponent\n  <span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>appRoutes<span class="token punctuation">)</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n</code></pre>\n<!-- Ember has a conventional `routes.js` file that the build reads and\nimports into the application for you. Again, this happens before\nyour app renders. -->\n<p>Ember&#x6709;&#x4E00;&#x4E2A;&#x4F20;&#x7EDF;&#x7684;<code>routes.js</code>&#x6587;&#x4EF6;&#xFF0C;&#x6784;&#x5EFA;&#x8BFB;&#x53D6;&#x548C;\n&#x4E3A;&#x60A8;&#x5BFC;&#x5165;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x518D;&#x4E00;&#x6B21;&#xFF0C;&#x8FD9;&#x53D1;&#x751F;&#x5728;&#x4E4B;&#x524D;\n&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5448;&#x73B0;&#x3002;</p>\n<pre><code class="language-js">Router<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&apos;about&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&apos;contact&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&apos;rentals&apos;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&apos;show&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;/:rental_id&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> Router\n</code></pre>\n<!-- Though the APIs are different, they all share the model of "static routes". React Router also followed that lead up until v4. -->\n<p>&#x5C3D;&#x7BA1;API&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x90FD;&#x5171;&#x4EAB;&#x201C;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x201D;&#x6A21;&#x578B;&#x3002; React&#x8DEF;&#x7531;&#x5668;&#x4E5F;&#x968F;&#x4E4B;&#x800C;&#x6765;&#xFF0C;&#x76F4;&#x5230;&#x7B2C;4&#x7248;&#x3002;</p>\n<!-- To be successful with React Router, you need to forget all that! :O -->\n<p>&#x8981;&#x6210;&#x529F;&#x4F7F;&#x7528;React Router&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x5FD8;&#x8BB0;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#xFF01;</p>\n<h2 id="philosophy-backstory"><a href="/core/guides/philosophy/backstory" class="internal-link">Backstory</a></h2>\n<!-- To be candid, we were pretty frustrated with the direction we\'d taken React Router by v2. We (Michael and Ryan) felt limited by the API, recognized we were reimplementing parts of React (lifecycles, and more), and it just didn\'t match the mental model React has given us for composing UI. -->\n<p>&#x5766;&#x7387;&#x5730;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x975E;&#x5E38;&#x6CAE;&#x4E27;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5728;&#x7B2C;&#x4E8C;&#x7248;&#x4E2D;&#x91C7;&#x7528;&#x4E86;React Router&#x3002; &#x6211;&#x4EEC;&#xFF08;Michael&#x548C;Ryan&#xFF09;&#x89C9;&#x5F97;&#x53D7;&#x5230;API&#x7684;&#x9650;&#x5236;&#xFF0C;&#x8BA4;&#x8BC6;&#x5230;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x91CD;&#x65B0;&#x5B9E;&#x73B0;React&#xFF08;&#x751F;&#x547D;&#x5468;&#x671F;&#x7B49;&#x7B49;&#xFF09;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x4E0E;React&#x7ED9;&#x6211;&#x4EEC;&#x7F16;&#x5199;UI&#x7684;&#x5FC3;&#x667A;&#x6A21;&#x578B;&#x5E76;&#x4E0D;&#x5339;&#x914D;&#x3002;</p>\n<!-- We were walking through the hallway of a hotel just before a workshop discussing what to do about it. We asked each other: "What would it look like if we built the router using the patterns we teach in our workshops?" -->\n<p>&#x5728;&#x7814;&#x8BA8;&#x4F1A;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5904;&#x7406;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x8D70;&#x8FC7;&#x4E00;&#x5BB6;&#x65C5;&#x9986;&#x7684;&#x8D70;&#x5ECA;&#x3002; &#x6211;&#x4EEC;&#x4E92;&#x76F8;&#x95EE;&#xFF1A;&#x201C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x5728;&#x7814;&#x8BA8;&#x4F1A;&#x4E0A;&#x6559;&#x6388;&#x7684;&#x6A21;&#x5F0F;&#x6765;&#x6784;&#x5EFA;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#xFF1F;</p>\n<!-- It was only a matter of hours into development that we had a proof-of-concept that we knew was the future we wanted for routing. We ended up with API that wasn\'t "outside" of React, an API that composed, or naturally fell into place, with the rest of React. We think you\'ll love it. -->\n<p>&#x53EA;&#x6709;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#x7684;&#x63A2;&#x8BA8;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x9A8C;&#x8BC1;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x662F;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x8DEF;&#x7531;&#x7684;&#x672A;&#x6765;&#x3002; &#x6211;&#x4EEC;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x5E76;&#x4E0D;&#x662F;React&#x4E4B;&#x5916;&#x7684;API&#xFF0C;&#x8FD9;&#x4E2A;API&#x662F;&#x7531;React&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x81EA;&#x7136;&#x800C;&#x7136;&#x7684;&#x843D;&#x5B9E;&#x5230;&#x4F4D;&#x3002; &#x6211;&#x4EEC;&#x8BA4;&#x4E3A;&#x4F60;&#x4F1A;&#x559C;&#x6B22;&#x5B83;&#x3002;</p>\n<h2 id="philosophy-dynamic-routing"><a href="/core/guides/philosophy/dynamic-routing" class="internal-link">Dynamic Routing</a></h2>\n<!-- When we say dynamic routing, we mean routing that takes place **as your app is rendering**, not in a configuration or convention outside of a running app.  That means almost everything is a component in React Router. Here\'s a 60 second review of the API to see how it works: -->\n<p>&#x5F53;&#x6211;&#x4EEC;&#x8BF4;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x610F;&#x601D;&#x662F;&#x8DEF;&#x7531;&#x53D1;&#x751F;&#x5728;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x6B63;&#x5728;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;**&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5E94;&#x7528;&#x4E4B;&#x5916;&#x7684;&#x914D;&#x7F6E;&#x6216;&#x8005;&#x60EF;&#x4F8B;&#x4E2D;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x90FD;&#x662F;React Router&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002; &#x4E0B;&#x9762;&#x662F;API&#x7684;60&#x79D2;&#x56DE;&#x987E;&#xFF0C;&#x770B;&#x770B;&#x5B83;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#xFF1A;</p>\n<!-- First, grab yourself a `Router` component for the environment you\'re targeting and render it at the top of your app. -->\n<p>&#x9996;&#x5148;&#xFF0C;&#x4E3A;&#x81EA;&#x5DF1;&#x5B9A;&#x4F4D;&#x7684;&#x73AF;&#x5883;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x201C;Router&#x201D;&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x6E32;&#x67D3;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x9876;&#x90E8;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment" spellcheck="true">// react-native</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> NativeRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-native&apos;</span>\n\n<span class="token comment" spellcheck="true">// react-dom (what we&apos;ll use here)</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>\n</code></pre>\n<!-- Next, grab the link component to link to a new location: -->\n<p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6293;&#x4F4F;&#x94FE;&#x63A5;&#x7EC4;&#x4EF6;&#x94FE;&#x63A5;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;:</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<!-- Finally, render a `Route` to show some UI when the user visits -->\n<p>&#x6700;&#x540E;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x65F6;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x201C;Route&#x201D;&#x6765;&#x663E;&#x793A;&#x4E00;&#x4E9B;&#x7528;&#x6237;&#x754C;&#x9762;\n<code>/dashboard</code>.</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<!-- The `Route` will render `<Dashboard {...props}/>` where `props` are some router specific things that look like `{ match, location, history }`. If the user is **not** at `/dashboard` then the `Route` will render `null`.  That\'s pretty much all there is to it. -->\n<p><code>Route</code>&#x5C06;&#x5448;&#x73B0;<code>&lt;Dashboard {... props} /&gt;</code>&#x5176;&#x4E2D;<code>props</code>&#x662F;&#x8DEF;&#x7531;&#x5668;&#x7279;&#x5B9A;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x50CF;{{match&#xFF0C;location&#xFF0C;history}<code>&#x3002; &#x5982;&#x679C;&#x7528;&#x6237;&#x5728;</code>/dashboard<code>&#x5904;&#x4E0D;&#x662F;**&#xFF0C;&#x90A3;&#x4E48;</code>Route<code>&#x5C06;&#x5448;&#x73B0;</code>null`&#x3002; &#x8FD9;&#x51E0;&#x4E4E;&#x662F;&#x6240;&#x6709;&#x8FD9;&#x4E00;&#x5207;&#x3002;</p>\n<h2 id="philosophy-nested-routes"><a href="/core/guides/philosophy/nested-routes" class="internal-link">Nested Routes</a></h2>\n<!-- Lots of routers have some concept of "nested routes". If you\'ve used versions of React Router previous to v4, you\'ll know it did too!  When you move from a static route configuration to dynamic, rendered routes, how do you "nest routes"? Well, how do you nest a `div`? -->\n<p>&#x5F88;&#x591A;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x6709;&#x4E00;&#x4E9B;&#x201C;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x3002; &#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x4E86;v4&#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684;React Router&#xFF0C;&#x4F60;&#x4E5F;&#x4F1A;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x786E;&#x5982;&#x6B64;&#xFF01; &#x5F53;&#x4F60;&#x4ECE;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x79FB;&#x52A8;&#x5230;&#x52A8;&#x6001;&#x6E32;&#x67D3;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x4F60;&#x5982;&#x4F55;&#x201C;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x201D;&#xFF1F; &#x90A3;&#x4E48;&#xFF0C;&#x4F60;&#x600E;&#x4E48;&#x5D4C;&#x5957;<code>div</code>&#xFF1F;</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* here&apos;s a div */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* here&apos;s a Route */</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/tacos<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Tacos<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// &#x5F53;url&#x5339;&#x914D;`/ tacos`&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5448;&#x73B0;</span>\n<span class="token keyword">const</span> Tacos  <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token comment" spellcheck="true">// here&apos;s a nested div</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* here&apos;s a nested Route,\n        match.url helps us make a relative path */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span>\n      <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>match<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">&apos;/carnitas&apos;</span><span class="token punctuation">}</span></span>\n      <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Carnitas<span class="token punctuation">}</span></span>\n    <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<!-- See how the router has no "nesting" API? `Route` is just a component, just like `div`. So to nest a `Route` or a `div`, you just ... do it. -->\n<p>&#x770B;&#x770B;&#x8DEF;&#x7531;&#x5668;&#x6709;&#x6CA1;&#x6709;&#x201C;&#x5D4C;&#x5957;&#x201D;&#x7684;API&#xFF1F; <code>Route</code>&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5C31;&#x50CF;<code>div</code>&#x4E00;&#x6837;&#x3002; &#x6240;&#x4EE5;&#x5D4C;&#x5957;&#x4E00;&#x4E2A;<code>Route</code>&#x6216;&#x4E00;&#x4E2A;<code>div</code>&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x3002;</p>\n<!-- Let\'s get trickier. -->\n<p>&#x8BA9;&#x6211;&#x4EEC;&#x53D8;&#x5F97;&#x66F4;&#x68D8;&#x624B;&#x3002;</p>\n<h2 id="philosophy-responsive-routes"><a href="/core/guides/philosophy/responsive-routes" class="internal-link">Responsive Routes</a></h2>\n<!-- Consider a user navigates to `/invoices`.  Your app is adaptive to different screen sizes, they have a narrow viewport, and so you only show them the list of invoices and a link to the invoice dashboard. They can navigate deeper from there. -->\n<p>&#x8003;&#x8651;&#x7528;&#x6237;&#x5BFC;&#x822A;&#x5230;<code>/invoices</code>&#x3002; &#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9002;&#x5E94;&#x4E0D;&#x540C;&#x7684;&#x5C4F;&#x5E55;&#x5C3A;&#x5BF8;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x89C6;&#x53E3;&#x5F88;&#x7A84;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EA;&#x80FD;&#x5411;&#x4ED6;&#x4EEC;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x5C4F;&#x5E55;&#x5C3A;&#x5BF8;&#x6E05;&#x5355;&#x548C;&#x6307;&#x5411;&#x4E0D;&#x540C;&#x7684;&#x5C4F;&#x5E55;&#x5C3A;&#x5BF8;&#x7684;&#x94FE;&#x63A5;&#x3002; &#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x90A3;&#x91CC;&#x5BFC;&#x822A;&#x66F4;&#x6DF1;&#x3002;</p>\n<pre><code class="language-asciidoc">&#x5C0F;&#x5C4F;&#x5E55;\nurl: /invoices\n\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Dashboard       |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 01      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 02      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 03      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 04      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n</code></pre>\n<!-- On a larger screen we\'d like to show a master-detail view where the navigation is on the left and the dashboard or specific invoices show up on the right. -->\n<p>&#x5728;&#x66F4;&#x5927;&#x7684;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x663E;&#x793A;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x7684;&#x4E3B;&#x8BE6;&#x7EC6;&#x89C6;&#x56FE;&#xFF0C;&#x7279;&#x5B9A;&#x5185;&#x5BB9;&#x663E;&#x793A;&#x5728;&#x53F3;&#x4FA7;&#x3002;</p>\n<pre><code class="language-asciidoc">&#x5927;&#x5C4F;&#x5E55;\nurl: /invoices/dashboard\n\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n|                      |                           |\n|      Dashboard       |                           |\n|                      |   Unpaid:             5   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |   Balance:   $53,543.00   |\n|      Invoice 01      |                           |\n|                      |   Past Due:           2   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 02      |                           |\n|                      |   <span class="token inline"><span class="token punctuation">+</span>-------------------<span class="token punctuation">+</span></span>   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>   |                   |   |\n|                      |   |  +    +     +     |   |\n|      Invoice 03      |   |  | +  |     |     |   |\n|                      |   |  | |  |  +  |  +  |   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>   |  | |  |  |  |  |  |   |\n|                      |   <span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>-<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>--<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>--<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>   |\n|      Invoice 04      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n</code></pre>\n<!-- Now pause for a minute and think about the `/invoices` url for both screen sizes. Is it even a valid route for a large screen? What should we put on the right side? -->\n<p>&#x73B0;&#x5728;&#x6682;&#x505C;&#x4E00;&#x4E0B;&#xFF0C;&#x8003;&#x8651;&#x4E24;&#x79CD;&#x5C4F;&#x5E55;&#x5C3A;&#x5BF8;&#x7684;<code>/invoices</code> url&#x3002; &#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x5927;&#x5C4F;&#x5E55;route&#xFF1F; &#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x628A;&#x4EC0;&#x4E48;&#x653E;&#x5728;&#x53F3;&#x8FB9;&#xFF1F;</p>\n<pre><code class="language-asciidoc">Large Screen\nurl: /invoices\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n|                      |                           |\n|      Dashboard       |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 01      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 02      |             ???           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 03      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 04      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n</code></pre>\n<!-- On a large screen, `/invoices` isn\'t a valid route, but on a small screen it is!  To make things more interesting, consider somebody with a giant phone. They could be looking at `/invoices` in portrait orientation and then rotate their phone to landscape. Suddenly, we have enough room to show the master-detail UI, so you ought to redirect right then! -->\n<p>&#x5728;&#x5927;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;<code>/invoices</code>&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;route&#xFF0C;&#x4F46;&#x5728;&#x4E00;&#x4E2A;&#x5C0F;&#x5C4F;&#x5E55;&#x4E0A;&#xFF01; &#x4E3A;&#x4E86;&#x8BA9;&#x4E8B;&#x60C5;&#x53D8;&#x5F97;&#x66F4;&#x6709;&#x8DA3;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x5DE8;&#x5927;&#x624B;&#x673A;&#x7684;&#x4EBA;&#x3002; &#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x6B63;&#x5728;&#x4EE5;&#x7EB5;&#x5411;&#x65B9;&#x5411;&#x67E5;&#x770B;<code>/invoices</code>&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x4ED6;&#x4EEC;&#x7684;&#x624B;&#x673A;&#x8F6C;&#x5230;landscape&#x3002; &#x7A81;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x7A7A;&#x95F4;&#x6765;&#x663E;&#x793A;&#x4E3B;&#x7EC6;&#x8282;&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x5E94;&#x8BE5;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x90A3;&#x4E48;&#xFF01;</p>\n<!-- React Router\'s previous versions\' static routes didn\'t really have a composable answer for this. When routing is dynamic, however, you can declaratively compose this functionality. If you start thinking about routing as UI, not as static configuration, your intuition will lead you to the following code: -->\n<p>React&#x8DEF;&#x7531;&#x5668;&#x7684;&#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x7684;&#x7EC4;&#x5408;&#x7B54;&#x6848;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x8DEF;&#x7531;&#x662F;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x6027;&#x5730;&#x7F16;&#x5199;&#x6B64;&#x529F;&#x80FD;&#x3002; &#x5982;&#x679C;&#x4F60;&#x5F00;&#x59CB;&#x8003;&#x8651;&#x4F5C;&#x4E3A;UI&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9759;&#x6001;&#x914D;&#x7F6E;&#xFF0C;&#x4F60;&#x7684;&#x76F4;&#x89C9;&#x4F1A;&#x5F15;&#x5BFC;&#x4F60;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppLayout</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoices<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AppLayout</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> Invoices <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span><span class="token punctuation">&gt;</span></span>\n\n    <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* always show the nav */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InvoicesNav</span><span class="token punctuation">/&gt;</span></span>\n\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Media</span> <span class="token attr-name">query</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>PRETTY_SMALL<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">{</span>screenIsSmall <span class="token operator">=</span><span class="token operator">&gt;</span> screenIsSmall\n        <span class="token comment" spellcheck="true">// small screen has no redirect</span>\n        <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoice<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n        <span class="token comment" spellcheck="true">// large screen does!</span>\n        <span class="token punctuation">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoice<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Media</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layout</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x5F53;&#x7528;&#x6237;&#x5C06;&#x624B;&#x673A;&#x4ECE;&#x7EB5;&#x5411;&#x65CB;&#x8F6C;&#x5230;&#x6A2A;&#x5411;&#x65F6;&#xFF0C;&#x6B64;&#x4EE3;&#x7801;&#x5C06;&#x81EA;&#x52A8;&#x5C06;&#x5176;&#x91CD;&#x5B9A;&#x5411;&#x5230;dashboard&#x3002; <em>&#x8FD9;&#x7EC4;&#x6709;&#x6548;&#x8DEF;&#x7531;&#x6839;&#x636E;&#x7528;&#x6237;&#x624B;&#x4E2D;&#x7684;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x7684;&#x52A8;&#x6001;&#x6027;&#x8D28;&#x800C;&#x6539;&#x53D8;</em>&#x3002;</p>\n<p>&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x3002; &#x8FD8;&#x6709;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA8;&#x8BBA;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x603B;&#x7ED3;&#x8FD9;&#x4E2A;&#x5EFA;&#x8BAE;&#xFF1A;&#x4E3A;&#x4E86;&#x8BA9;&#x4F60;&#x7684;&#x76F4;&#x89C9;&#x7B26;&#x5408;React Router&#x7684;&#x601D;&#x60F3;&#xFF0C;&#x8003;&#x8651;&#x7EC4;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x3002; &#x60F3;&#x60F3;&#x5982;&#x4F55;&#x7528;React&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x7EC4;&#x5408;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x201C;React Router&#x95EE;&#x9898;&#x201D;&#x90FD;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x201C;React&#x95EE;&#x9898;&#x201D;&#x3002;</p>\n',
headers:[{text:"Static Routing",slug:"static-routing"},{text:"Backstory",slug:"backstory"},{text:"Dynamic Routing",slug:"dynamic-routing"},{text:"Nested Routes",slug:"nested-routes"},{text:"Responsive Routes",slug:"responsive-routes"}],title:{text:"Philosophy",slug:"philosophy"}}},69:function(n,a){n.exports={markup:'<h1 id="redux"><a href="/core/guides/redux" class="internal-link">Redux &#x5B89;&#x88C5;</a></h1>\n<p>Redux&#x662F;React&#x751F;&#x6001;&#x7CFB;&#x7EDF;&#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#x3002; &#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5C3D;&#x53EF;&#x80FD;&#x4F7F;React Router&#x548C;Redux&#x5C3D;&#x53EF;&#x80FD;&#x65E0;&#x7F1D;&#x5730;&#x96C6;&#x6210;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>\n<h2 id="redux-blocked-updates"><a href="/core/guides/redux/blocked-updates" class="internal-link">Blocked Updates</a></h2>\n<p>&#x901A;&#x5E38;&#xFF0C;React Router&#x548C;Redux&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#x5F97;&#x5F88;&#x597D;&#x3002; &#x6709;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5F53;&#x4F4D;&#x7F6E;&#x6539;&#x53D8;&#x65F6;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#xFF08;&#x5B50;route&#x6216;&#x6D3B;&#x52A8;&#x7684;&#x5BFC;&#x822A;&#x94FE;&#x63A5;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#xFF09;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;:</p>\n<p>1.&#x7EC4;&#x4EF6;&#x901A;&#x8FC7;<code>connect() (Comp)</code>&#x8FDE;&#x63A5;&#x5230;redux&#x3002;\n2.&#x8BE5;&#x7EC4;&#x4EF6;&#x4E0D;&#x662F;**&#x201C;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x201D;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4E0D;&#x662F;\n&#xA0;&#xA0;&#xA0; &#x50CF;&#x8FD9;&#x6837;&#x5448;&#x73B0;&#xFF1A;<code>&lt;Route component = {SomeConnectedThing} /&gt;</code></p>\n<p>&#x95EE;&#x9898;&#x662F;Redux&#x5B9E;&#x73B0;&#x4E86;<code>shouldComponentUpdate</code>&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8FF9;&#x8C61;&#x8868;&#x660E;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4ECE;&#x8DEF;&#x7531;&#x5668;&#x63A5;&#x6536;props&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x53D8;&#x5316;&#x3002; &#x8FD9;&#x662F;&#x5F88;&#x5BB9;&#x6613;&#x89E3;&#x51B3;&#x7684;&#x3002; &#x627E;&#x5230;&#x4F60;&#x8FDE;&#x63A5;&#x4F60;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5E76;&#x7528;<code>withRouter</code>&#x628A;&#x5B83;&#x5305;&#x88C5;&#x8D77;&#x6765;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// before</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Something<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// after</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Something<span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="redux-"><a href="/core/guides/redux/" class="internal-link">&#x6DF1;&#x5EA6;&#x6574;&#x5408;</a></h2>\n<p>&#x6709;&#x4E9B;&#x4EBA;&#x60F3;&#x8981;:</p>\n<ul>\n<li>&#x4F7F;&#x8DEF;&#x7531;&#x6570;&#x636E;&#x4E0E;store&#x540C;&#x6B65;&#xFF0C;&#x5E76;&#x4ECE;store&#x8BBF;&#x95EE;</li>\n<li>&#x80FD;&#x591F;&#x901A;&#x8FC7;&#x8C03;&#x5EA6;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x5BFC;&#x822A;</li>\n<li>&#x652F;&#x6301;Redux&#x4E2D;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x7684;&#x65F6;&#x95F4;&#x7EBF;&#x8C03;&#x8BD5;\n&#xA0;&#xA0;devtools</li>\n</ul>\n<p>&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x90FD;&#x9700;&#x8981;&#x66F4;&#x6DF1;&#x5165;&#x7684;&#x6574;&#x5408;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x60A8;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x79CD;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;:</p>\n<ul>\n<li>Route changes are unlikely to matter for time travel debugging.</li>\n<li>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x7684;&#x201C;&#x5386;&#x53F2;&#x201D;&#x5BF9;&#x8C61;&#x6765;&#x5C06;&#x7EC4;&#x4EF6;&#x8DEF;&#x7531;&#x5230;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x5BFC;&#x822A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5206;&#x6D3E;&#x64CD;&#x4F5C;&#x6765;&#x5BFC;&#x822A;&#x3002;</li>\n<li>&#x8DEF;&#x7531;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x662F;&#x5927;&#x591A;&#x6570;&#x5173;&#x5FC3;&#x5B83;&#x7684;&#x7EC4;&#x4EF6;&#x7684;prop&#xFF0C;&#x4E0D;&#x7BA1;&#x5B83;&#x6765;&#x81EA;store&#x8FD8;&#x662F;router&#x90FD;&#x4E0D;&#x4F1A;&#x66F4;&#x6539;&#x7EC4;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#x3002;</li>\n</ul>\n<p>&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x4E00;&#x4E9B;&#x4EBA;&#x5BF9;&#x6B64;&#x611F;&#x5230;&#x5F3A;&#x70C8;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x63D0;&#x4F9B;&#x6700;&#x597D;&#x7684;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#x3002; &#x4ECE;React Router&#x7684;&#x7248;&#x672C;4&#x5F00;&#x59CB;&#xFF0C;React Router Redux&#x8F6F;&#x4EF6;&#x5305;&#x662F;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002; &#x8BF7;&#x53C2;&#x8003;&#x5B83;&#x8FDB;&#x884C;&#x6DF1;&#x5EA6;&#x6574;&#x5408;&#x3002;</p>\n<p><a href="https://github.com/reacttraining/react-router/tree/master/packages/react-router-redux">React Router Redux</a></p>\n',headers:[{text:"Blocked Updates",slug:"blocked-updates"},{text:"深度整合",slug:""}],title:{text:"Redux 安装",slug:"redux"}}},134:function(n,a){n.exports={markup:'<h1 id="static-routes"><a href="/core/guides/static-routes" class="internal-link">Static Routes</a></h1>\n<p>&#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684;React&#x8DEF;&#x7531;&#x5668;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x6765;&#x914D;&#x7F6E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x7531;&#x3002; &#x8FD9;&#x5141;&#x8BB8;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x68C0;&#x67E5;&#x548C;&#x5339;&#x914D;&#x8DEF;&#x7EBF;&#x3002; &#x7531;&#x4E8E;v4&#x79FB;&#x52A8;&#x5230;&#x52A8;&#x6001;&#x7EC4;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#xFF0C;&#x4E00;&#x4E9B;&#x4EE5;&#x524D;&#x7684;&#x7528;&#x4F8B;&#x53D8;&#x5F97;&#x4E0D;&#x90A3;&#x4E48;&#x660E;&#x663E;&#x548C;&#x68D8;&#x624B;&#x3002;</p>\n<p>&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x548C;React Router&#x7684;&#x5305;&#x6765;&#x7EE7;&#x7EED;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E9B;&#x7528;&#x4F8B;&#x3002; &#x5B83;&#x73B0;&#x5728;&#x6B63;&#x5728;&#x53D1;&#x5C55;&#x4E2D;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5F88;&#x4E50;&#x610F;&#x4E3A;&#x60A8;&#x5C1D;&#x8BD5;&#x548C;&#x5E2E;&#x52A9;&#x3002;</p>\n<p><a href="https://github.com/reacttraining/react-router/tree/master/packages/react-router-config">React Router Config</a></p>\n',headers:[],title:{text:"Static Routes",slug:"static-routes"}}},260:function(n,a,s){"use strict";a.__esModule=!0,a.default={api:[s(585),s(586),s(587),s(588),s(589),s(604),s(608),s(611),s(614),s(617),s(620),s(624),s(627),s(630),s(632),s(635)],guides:[s(68),s(590),s(592),s(594),s(591),s(593),s(638),s(69),s(134),s(67)],examples:[{label:"基本",slug:"basic",load:s(481),loadSource:s(504)},{label:"URL 参数",slug:"url-params",load:s(485),loadSource:s(508)},{label:"重定向 (Auth)",slug:"auth-workflow",load:s(480),loadSource:s(503)},{label:"传统 Link",slug:"custom-link",load:s(482),loadSource:s(505)},{label:"阻止跳转",slug:"preventing-transitions",load:s(486),loadSource:s(509)},{label:"找不到匹配 (404)",slug:"no-match",load:s(484),loadSource:s(507)},{label:"路径递归",slug:"recursive-paths",load:s(487),loadSource:s(510)},{label:"侧边栏",slug:"sidebar",load:s(489),loadSource:s(512)},{label:"过渡动画",slug:"animated-transitions",load:s(479),loadSource:s(502)},{label:"模糊匹配",slug:"ambiguous-matches",load:s(478),loadSource:s(501)},{label:"路由配置",slug:"route-config",load:s(488),loadSource:s(511)},{label:"画廊",slug:"modal-gallery",load:s(483),loadSource:s(506)},{label:"静态路由器上下文",slug:"static-router",load:s(490),loadSource:s(513)}]}},478:function(n,a,s){n.exports=function(n){s.e(40,function(a){n(s(261))})}},479:function(n,a,s){n.exports=function(n){s.e(5,function(a){n(s(262))})}},480:function(n,a,s){n.exports=function(n){s.e(39,function(a){n(s(263))})}},481:function(n,a,s){n.exports=function(n){s.e(38,function(a){n(s(264))})}},482:function(n,a,s){n.exports=function(n){s.e(37,function(a){n(s(265))})}},483:function(n,a,s){n.exports=function(n){s.e(36,function(a){n(s(266))})}},484:function(n,a,s){n.exports=function(n){s.e(35,function(a){n(s(267))})}},485:function(n,a,s){n.exports=function(n){s.e(34,function(a){n(s(268))})}},486:function(n,a,s){n.exports=function(n){s.e(33,function(a){n(s(269))})}},487:function(n,a,s){n.exports=function(n){s.e(32,function(a){n(s(270))})}},488:function(n,a,s){n.exports=function(n){s.e(31,function(a){n(s(271))})}},489:function(n,a,s){n.exports=function(n){s.e(30,function(a){n(s(272))})}},490:function(n,a,s){n.exports=function(n){s.e(29,function(a){n(s(273))})}},501:function(n,a,s){n.exports=function(n){s.e(18,function(a){n(s(535))})}},502:function(n,a,s){n.exports=function(n){s.e(17,function(a){n(s(536))})}},503:function(n,a,s){n.exports=function(n){s.e(16,function(a){n(s(537))})}},504:function(n,a,s){n.exports=function(n){s.e(15,function(a){n(s(538))})}},505:function(n,a,s){n.exports=function(n){s.e(14,function(a){n(s(539))})}},506:function(n,a,s){n.exports=function(n){s.e(13,function(a){n(s(540))})}},507:function(n,a,s){n.exports=function(n){s.e(12,function(a){n(s(541))})}},508:function(n,a,s){n.exports=function(n){s.e(11,function(a){n(s(542))})}},509:function(n,a,s){n.exports=function(n){s.e(10,function(a){n(s(543))})}},510:function(n,a,s){n.exports=function(n){s.e(9,function(a){n(s(544))})}},511:function(n,a,s){n.exports=function(n){s.e(8,function(a){n(s(545))})}},512:function(n,a,s){n.exports=function(n){s.e(7,function(a){n(s(546))})}},513:function(n,a,s){n.exports=function(n){s.e(6,function(a){n(s(547))})}},585:function(n,a){n.exports={markup:'<h1 id="BrowserRouter"><a href="/web/api/BrowserRouter" class="internal-link">&lt;BrowserRouter&gt;</a></h1>\n<p><a href="/core/api/Router" class="internal-link"><code>&lt;Router&gt;</code></a>&#x4F7F;&#x7528;HTML5&#x5386;&#x53F2;&#x8BB0;&#x5F55;API (<code>pushState</code>, <code>replaceState</code> and the <code>popstate</code> event)&#x4FDD;&#x6301;&#x60A8;&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#x4E0E;URL&#x540C;&#x6B65;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span>\n  <span class="token attr-name">basename</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>optionalString<span class="token punctuation">}</span></span>\n  <span class="token attr-name">forceRefresh</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>optionalBool<span class="token punctuation">}</span></span>\n  <span class="token attr-name">getUserConfirmation</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>optionalFunc<span class="token punctuation">}</span></span>\n  <span class="token attr-name">keyLength</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>optionalNumber<span class="token punctuation">}</span></span>\n<span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="BrowserRouter-basename-string"><a href="/web/api/BrowserRouter/basename-string" class="internal-link">basename: string</a></h2>\n<p>&#x6240;&#x6709;&#x4F4D;&#x7F6E;&#x7684;&#x6839;&#x7F51;&#x5740;,&#x5982;&#x679C;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x662F;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5B50;&#x76EE;&#x5F55;&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5C06;&#x5176;&#x8BBE;&#x7F6E;&#x4E3A;&#x5B50;&#x76EE;&#x5F55;&#x3002; &#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x57FA;&#x672C;&#x540D;&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x5BFC;&#x7684;&#x659C;&#x7EBF;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x6709;&#x659C;&#x7EBF;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span> <span class="token attr-name">basename</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/calendar<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/today<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span> <span class="token comment" spellcheck="true">// renders &lt;a href=&quot;/calendar/today&quot;&gt;</span>\n</code></pre>\n<h2 id="BrowserRouter-getuserconfirmation-func"><a href="/web/api/BrowserRouter/getuserconfirmation-func" class="internal-link">getUserConfirmation: func</a></h2>\n<p>&#x7528;&#x4E8E;&#x786E;&#x8BA4;&#x5BFC;&#x822A;&#x7684;&#x529F;&#x80FD;&#x3002; &#x9ED8;&#x8BA4;&#x4F7F;&#x7528; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm"><code>window.confirm</code></a>.</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// this is the default behavior</span>\n<span class="token keyword">const</span> getConfirmation <span class="token operator">=</span> <span class="token punctuation">(</span>message<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> allowTransition <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>\n  <span class="token function">callback</span><span class="token punctuation">(</span>allowTransition<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span> <span class="token attr-name">getUserConfirmation</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>getConfirmation<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="BrowserRouter-forcerefresh-bool"><a href="/web/api/BrowserRouter/forcerefresh-bool" class="internal-link">forceRefresh: bool</a></h2>\n<p>&#x5982;&#x679C;&#x4E3A;true&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x5C06;&#x5728;&#x9875;&#x9762;&#x5BFC;&#x822A;&#x4E2D;&#x4F7F;&#x7528;&#x6574;&#x9875;&#x5237;&#x65B0;&#x3002; &#x60A8;&#x53EF;&#x80FD;&#x53EA;&#x60F3;&#x5728;<a href="http://caniuse.com/#feat=history">&#x4E0D;&#x652F;&#x6301;HTML5&#x5386;&#x53F2;API&#x7684;&#x6D4F;&#x89C8;&#x5668;</a>&#x4E2D;&#x4F7F;&#x7528;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> supportsHistory <span class="token operator">=</span> <span class="token string">&apos;pushState&apos;</span> <span class="token keyword">in</span> window<span class="token punctuation">.</span>history\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span> <span class="token attr-name">forceRefresh</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span>supportsHistory<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="BrowserRouter-keylength-number"><a href="/web/api/BrowserRouter/keylength-number" class="internal-link">keyLength: number</a></h2>\n<p>The length of <code>location.key</code>. Defaults to 6.</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span> <span class="token attr-name">keyLength</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="BrowserRouter-children-node"><a href="/web/api/BrowserRouter/children-node" class="internal-link">children: node</a></h2>\n<p>A <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">single child element</a> to render.</p>\n',headers:[{text:"basename: string",slug:"basename-string"},{text:"getUserConfirmation: func",slug:"getuserconfirmation-func"},{text:"forceRefresh: bool",slug:"forcerefresh-bool"},{text:"keyLength: number",slug:"keylength-number"},{text:"children: node",slug:"children-node"}],title:{text:"<BrowserRouter>",slug:"BrowserRouter"}}},586:function(n,a){n.exports={markup:'<h1 id="HashRouter"><a href="/web/api/HashRouter" class="internal-link">&lt;HashRouter&gt;</a></h1>\n<p>&#x4E00;&#x4E2A;&#x4F7F;&#x7528;URL&#x54C8;&#x5E0C;&#x90E8;&#x5206;&#xFF08;&#x5373;<code>window.location.hash</code>&#xFF09;&#x7684;<a href="/core/api/Router" class="internal-link"><code>&lt;Router&gt;</code></a>&#x6765;&#x4FDD;&#x6301;&#x4F60;&#x7684;UI&#x4E0E;URL&#x540C;&#x6B65;&#x3002;</p>\n<p><strong>&#x91CD;&#x8981;&#x7684;&#x63D0;&#x793A;:</strong> &#x54C8;&#x5E0C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4E0D;&#x652F;&#x6301;<code>location.key</code>&#x6216;<code>location.state</code>&#x3002; &#x5728;&#x4EE5;&#x524D;&#x7684;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;&#x586B;&#x8865;&#x8FD9;&#x4E2A;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x662F;&#x5B58;&#x5728;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x8FB9;&#x7F18;&#x6848;&#x4F8B;&#x3002; &#x4EFB;&#x4F55;&#x9700;&#x8981;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x7684;&#x4EE3;&#x7801;&#x6216;&#x63D2;&#x4EF6;&#x5C06;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002; &#x7531;&#x4E8E;&#x6B64;&#x6280;&#x672F;&#x4EC5;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x4F20;&#x7EDF;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x60A8;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x4E3A;&#x4F7F;&#x7528;&#x201C;<browserhistory>&#x201D;&#x6765;&#x4EE3;&#x66FF;&#x3002;</browserhistory></p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> HashRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HashRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="HashRouter-basename-string"><a href="/web/api/HashRouter/basename-string" class="internal-link">basename: string</a></h2>\n<p>&#x6240;&#x6709;&#x4F4D;&#x7F6E;&#x7684;&#x6839;&#x7F51;&#x5740;&#x3002; &#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x57FA;&#x672C;&#x540D;&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x5BFC;&#x7684;&#x659C;&#x7EBF;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x6709;&#x659C;&#x7EBF;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span> <span class="token attr-name">basename</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/calendar<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/today<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span> <span class="token comment" spellcheck="true">// renders &lt;a href=&quot;#/calendar/today&quot;&gt;</span>\n</code></pre>\n<h2 id="HashRouter-getuserconfirmation-func"><a href="/web/api/HashRouter/getuserconfirmation-func" class="internal-link">getUserConfirmation: func</a></h2>\n<p>&#x7528;&#x4E8E;&#x786E;&#x8BA4;&#x5BFC;&#x822A;&#x7684;&#x529F;&#x80FD;&#x3002; &#x9ED8;&#x8BA4;&#x4F7F;&#x7528; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm"><code>window.confirm</code></a>.</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// this is the default behavior</span>\n<span class="token keyword">const</span> getConfirmation <span class="token operator">=</span> <span class="token punctuation">(</span>message<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> allowTransition <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>\n  <span class="token function">callback</span><span class="token punctuation">(</span>allowTransition<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span> <span class="token attr-name">getUserConfirmation</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>getConfirmation<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="HashRouter-hashtype-string"><a href="/web/api/HashRouter/hashtype-string" class="internal-link">hashType: string</a></h2>\n<p>&#x7528;&#x4E8E;<code>window.location.hash</code>&#x7684;&#x7F16;&#x7801;&#x7C7B;&#x578B;&#x3002; &#x53EF;&#x7528;&#x7684;&#x503C;&#x662F;:</p>\n<ul>\n<li><code>&quot;slash&quot;</code> - Creates hashes like <code>#/</code> and <code>#/sunshine/lollipops</code></li>\n<li><code>&quot;noslash&quot;</code> - Creates hashes like <code>#</code> and <code>#sunshine/lollipops</code></li>\n<li><code>&quot;hashbang&quot;</code> - Creates <a href="https://developers.google.com/webmasters/ajax-crawling/docs/learn-more">&#x201C;ajax crawlable&#x201D;</a> (deprecated by Google) hashes like <code>#!/</code> and <code>#!/sunshine/lollipops</code></li>\n</ul>\n<p>Defaults to <code>&quot;slash&quot;</code>.</p>\n<h2 id="HashRouter-children-node"><a href="/web/api/HashRouter/children-node" class="internal-link">children: node</a></h2>\n<p>A <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">single child element</a> to render.</p>\n',headers:[{text:"basename: string",slug:"basename-string"},{text:"getUserConfirmation: func",slug:"getuserconfirmation-func"},{text:"hashType: string",slug:"hashtype-string"},{text:"children: node",slug:"children-node"}],title:{text:"<HashRouter>",slug:"HashRouter"}}},587:function(n,a){n.exports={markup:'<h1 id="Link"><a href="/web/api/Link" class="internal-link">&lt;Link&gt;</a></h1>\n<p>&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x91CC;&#x9762;&#x63D0;&#x4F9B;&#x58F0;&#x660E;&#x5F0F;&#x7684;&#x53EF;&#x8BBF;&#x95EE;&#x5BFC;&#x822A;.</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Link-to-string"><a href="/web/api/Link/to-string" class="internal-link">to: string</a></h2>\n<p>&#x94FE;&#x63A5;&#x4F4D;&#x7F6E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#xFF0C;&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x4F4D;&#x7F6E;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#xFF0C;&#x641C;&#x7D22;&#x548C;&#x54C8;&#x5E0C;&#x5C5E;&#x6027;&#x521B;&#x5EFA;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/courses?sort<span class="token punctuation">=</span>name<span class="token punctuation">&apos;</span>/</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Link-to-object"><a href="/web/api/Link/to-object" class="internal-link">to: object</a></h2>\n<p>&#x53EF;&#x4EE5;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;&#x7684;&#x5BF9;&#x8C61;:</p>\n<ul>\n<li><code>pathname</code>: &#x8868;&#x793A;&#x8981;&#x94FE;&#x63A5;&#x5230;&#x7684;&#x8DEF;&#x5F84;&#x7684;&#x5B57;&#x7B26;&#x4E32;.</li>\n<li><code>search</code>: &#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;.</li>\n<li><code>hash</code>: &#x4E00;&#x4E2A;&#x6563;&#x5217;&#x5728;URL&#x4E2D;, &#x4F8B;&#x5982;:  <code>#a-hash</code>.</li>\n<li><code>state</code>: State to persist to the <code>location</code>.</li>\n</ul>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/courses&apos;</span><span class="token punctuation">,</span>\n  search<span class="token punctuation">:</span> <span class="token string">&apos;?sort=name&apos;</span><span class="token punctuation">,</span>\n  hash<span class="token punctuation">:</span> <span class="token string">&apos;#the-hash&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> fromDashboard<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span><span class="token attr-name">}</span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Link-replace-bool"><a href="/web/api/Link/replace-bool" class="internal-link">replace: bool</a></h2>\n<p>&#x5F53;replace&#x4E3A;<code>true</code>&#x65F6;&#xFF0C;&#x5355;&#x51FB;&#x94FE;&#x63A5;&#x5C06;&#x66FF;&#x6362;&#x5386;&#x53F2;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x800C;&#x4E0D;&#x662F;&#x6DFB;&#x52A0;&#x65B0;&#x6761;&#x76EE;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/courses<span class="token punctuation">&quot;</span></span> <span class="token attr-name">replace</span> <span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Link-innerref-function"><a href="/web/api/Link/innerref-function" class="internal-link">innerRef: function</a></h2>\n<p>&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x7EC4;&#x4EF6;&#x7684;&#x5E95;&#x5C42;<code>ref</code></p>\n<pre><code class="language-js">\n<span class="token keyword">const</span> refCallback <span class="token operator">=</span> node <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// `node` refers to the mounted DOM element or null when unmounted</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">innerRef</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>refCallback<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n</code></pre>\n',headers:[{text:"to: string",slug:"to-string"},{text:"to: object",slug:"to-object"},{text:"replace: bool",slug:"replace-bool"},{text:"innerRef: function",slug:"innerref-function"}],title:{text:"<Link>",slug:"Link"}}},588:function(n,a){n.exports={markup:'<h1 id="NavLink"><a href="/web/api/NavLink" class="internal-link">&lt;NavLink&gt;</a></h1>\n<p><a href="Link.md"><code>&lt;Link&gt;</code></a>&#x7684;&#x7279;&#x6B8A;&#x7248;&#x672C;&#xFF0C;&#x5F53;&#x5B83;&#x4E0E;&#x5F53;&#x524D;URL&#x76F8;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x4E3A;&#x5448;&#x73B0;&#x7684;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x6837;&#x5F0F;&#x5C5E;&#x6027;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> NavLink <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-activeclassname-string"><a href="/web/api/NavLink/activeclassname-string" class="internal-link">activeClassName: string</a></h2>\n<p>active&#x65F6;&#x7ED9;&#x4E88;&#x5143;&#x7D20;&#x7684;&#x7C7B;&#x3002; &#x7ED9;&#x5B9A;&#x7684;&#x9ED8;&#x8BA4;&#x7C7B;&#x662F;&#x201C;active&#x201D;&#x3002; &#x8FD9;&#x5C06;&#x88AB;&#x52A0;&#x5165;<code>className</code>&#x7684;prop&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span>\n  <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/faq<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">&gt;</span></span>FAQs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-activestyle-object"><a href="/web/api/NavLink/activestyle-object" class="internal-link">activeStyle: object</a></h2>\n<p>&#x5904;&#x4E8E;&#x6D3B;&#x52A8;&#x72B6;&#x6001;&#x7684;&#x5143;&#x7D20;&#x7684;&#x6837;&#x5F0F;.</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span>\n  <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/faq<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">activeStyle</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n    fontWeight<span class="token punctuation">:</span> <span class="token string">&apos;bold&apos;</span><span class="token punctuation">,</span>\n    color<span class="token punctuation">:</span> <span class="token string">&apos;red&apos;</span>\n   <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n<span class="token punctuation">&gt;</span></span>FAQs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-exact-bool"><a href="/web/api/NavLink/exact-bool" class="internal-link">exact: bool</a></h2>\n<p>&#x5F53;<code>true</code>&#x65F6;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x4F4D;&#x7F6E;&#x5B8C;&#x5168;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x5E94;&#x7528;&#x6D3B;&#x52A8;&#x7684;&#x7C7B;/&#x6837;&#x5F0F;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span>\n  <span class="token attr-name">exact</span>\n  <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/profile<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">&gt;</span></span>Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-strict-bool"><a href="/web/api/NavLink/strict-bool" class="internal-link">strict: bool</a></h2>\n<p>&#x5982;&#x679C;&#x4E3A;<code>true</code>&#xFF0C;&#x5219;&#x5728;&#x786E;&#x5B9A;&#x4F4D;&#x7F6E;&#x662F;&#x5426;&#x4E0E;&#x5F53;&#x524D;URL&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5C06;&#x8003;&#x8651;&#x4F4D;&#x7F6E;<code>pathname</code>&#x7684;&#x5C3E;&#x90E8;&#x659C;&#x7EBF;&#x3002; &#x8BF7;&#x53C2;&#x9605;<a href="/core/api/Route/strict-bool" class="internal-link"><code>&lt;Route strict&gt;</code></a> documentation for more information&#x6587;&#x6863;&#x4EE5;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span>\n  <span class="token attr-name">strict</span>\n  <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/events/<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">&gt;</span></span>Events<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-isactive-func"><a href="/web/api/NavLink/isactive-func" class="internal-link">isActive: func</a></h2>\n<p>&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x903B;&#x8F91;&#x4EE5;&#x786E;&#x5B9A;&#x94FE;&#x63A5;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x6D3B;&#x52A8;&#x72B6;&#x6001;&#x7684;&#x529F;&#x80FD;, &#x5982;&#x679C;&#x60A8;&#x4E0D;&#x60F3;&#x9A8C;&#x8BC1;&#x94FE;&#x63A5;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x662F;&#x5426;&#x4E0E;&#x5F53;&#x524D;URL&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x5339;&#x914D;,&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;.</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// &#x5982;&#x679C;&#x4E8B;&#x4EF6;ID&#x662F;&#x5947;&#x6570;&#xFF0C;&#x5219;&#x53EA;&#x8003;&#x8651;&#x4E8B;&#x4EF6;&#x6FC0;&#x6D3B;</span>\n<span class="token keyword">const</span> oddEvent <span class="token operator">=</span> <span class="token punctuation">(</span>match<span class="token punctuation">,</span> location<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">const</span> eventID <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>eventID<span class="token punctuation">)</span>\n  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>eventID<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> eventID <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span>\n  <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/events/123<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">isActive</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>oddEvent<span class="token punctuation">}</span></span>\n<span class="token punctuation">&gt;</span></span>Event <span class="token number">123</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="NavLink-location-object"><a href="/web/api/NavLink/location-object" class="internal-link">location: object</a></h2>\n<p><a href="/web/api/NavLink/isactive-func" class="internal-link"><code>isActive</code></a>&#x6BD4;&#x8F83;&#x5F53;&#x524D;&#x7684;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x5F53;&#x524D;&#x7684;&#x6D4F;&#x89C8;&#x5668;URL&#xFF09;&#x3002;\n&#x4E3A;&#x4E86;&#x6BD4;&#x8F83;&#x4E0D;&#x540C;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;<a href="/core/api/location" class="internal-link"><code>location</code></a>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x3002;</p>\n',
headers:[{text:"activeClassName: string",slug:"activeclassname-string"},{text:"activeStyle: object",slug:"activestyle-object"},{text:"exact: bool",slug:"exact-bool"},{text:"strict: bool",slug:"strict-bool"},{text:"isActive: func",slug:"isactive-func"},{text:"location: object",slug:"location-object"}],title:{text:"<NavLink>",slug:"NavLink"}}},589:function(n,a){n.exports={markup:'<h1 id="Prompt"><a href="/web/api/Prompt" class="internal-link">&lt;Prompt&gt;</a></h1>\n<p>Re-exported from core <a href="/core/api/Prompt" class="internal-link"><code>Prompt</code></a></p>\n',headers:[],title:{text:"<Prompt>",slug:"Prompt"}}},590:function(n,a){n.exports={markup:'<h1 id="basic-components"><a href="/web/guides/basic-components" class="internal-link">Basic Components</a></h1>\n<p>React Router&#x4E2D;&#x6709;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x7EC4;&#x4EF6;&#xFF1A;&#x8DEF;&#x7531;&#x5668;&#x7EC4;&#x4EF6;&#xFF0C;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x7EC4;&#x4EF6;&#x548C;&#x5BFC;&#x822A;&#x7EC4;&#x4EF6;&#x3002;</p>\n<p>&#x60A8;&#x5728;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x90FD;&#x5E94;&#x8BE5;&#x4ECE;<code>react-router-dom</code>&#x4E2D;&#x5BFC;&#x5165;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n</code></pre>\n<h2 id="basic-components-routers"><a href="/web/guides/basic-components/routers" class="internal-link">Routers</a></h2>\n<p>&#x6BCF;&#x4E2A;React Router&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6838;&#x5FC3;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x7EC4;&#x4EF6;&#x3002; &#x5BF9;&#x4E8E;Web&#x9879;&#x76EE;&#xFF0C;<code>react-router-dom</code>&#x63D0;&#x4F9B;<code>&lt;BrowserRouter&gt;</code>&#x548C;<code>&lt;HashRouter&gt;</code>&#x8DEF;&#x7531;&#x5668;&#x3002; &#x8FD9;&#x4E24;&#x4E2A;&#x5C06;&#x4E3A;&#x60A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7684;&#x201C;&#x5386;&#x53F2;&#x201D;&#x5BF9;&#x8C61;&#x3002; &#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5219;&#x60A8;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;<code>&lt;BrowserRouter&gt;</code>&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x6709;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x548C;<code>&lt;HashRouter&gt;</code>&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span> holder<span class="token punctuation">)</span>\n</code></pre>\n<h2 id="basic-components-route-matching"><a href="/web/guides/basic-components/route-matching" class="internal-link">Route Matching</a></h2>\n<p>&#x6709;&#x4E24;&#x4E2A;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x7EC4;&#x4EF6;: <code>&lt;Route&gt;</code> and <code>&lt;Switch&gt;</code>.</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n</code></pre>\n<p>&#x8DEF;&#x7531;&#x5339;&#x914D;&#x662F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5230;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x7684;&#x8DEF;&#x5F84;&#x6765;&#x5B8C;&#x6210;&#x7684;&#x3002; &#x5F53;&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x5448;&#x73B0;&#x5176;&#x5185;&#x5BB9;&#xFF0C;&#x5F53;&#x5B83;&#x4E0D;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x5448;&#x73B0;<code>null</code>&#x3002; &#x6CA1;&#x6709;&#x8DEF;&#x5F84;&#x7684;<code>&lt;Route&gt;</code>&#x5C06;&#x59CB;&#x7EC8;&#x5339;&#x914D;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// when location = { pathname: &apos;/about&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment" spellcheck="true">// renders &lt;About/&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/contact<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment" spellcheck="true">// renders null</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Always<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment" spellcheck="true">// renders &lt;Always/&gt;</span>\n</code></pre>\n<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x60F3;&#x8981;&#x6839;&#x636E;&#x4F4D;&#x7F6E;&#x6E32;&#x67D3;&#x5185;&#x5BB9;&#x7684;&#x5730;&#x65B9;&#x5305;&#x542B;<code>&lt;Route&gt;</code>&#x3002; &#x5217;&#x51FA;&#x4E00;&#x4E9B;&#x53EF;&#x80FD;&#x7684;<code>&lt;Route&gt;</code>&#x76F8;&#x90BB;&#x7684;&#x5217;&#x8868;&#x901A;&#x5E38;&#x662F;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002; <code>&lt;Switch&gt;</code>&#x7EC4;&#x4EF6;&#x7528;&#x4E8E;&#x5C06;<route>&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x3002;</route></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/contact<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5BF9;<route>&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#x5E76;&#x4E0D;&#x9700;&#x8981;<code>&lt;Switch&gt;</code>&#xFF0C;&#x4F46;&#x5B83;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002; &#x4E00;&#x4E2A;<code>&lt;Switch&gt;</code>&#x5C06;&#x8FED;&#x4EE3;&#x6240;&#x6709;&#x5B50;&#x5143;&#x7D20;&#x7684;<route>&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x6E32;&#x67D3;&#x4E0E;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002; &#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x5728;&#x591A;&#x4E2A;&#x8DEF;&#x5F84;&#x7684;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x76F8;&#x540C;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x65F6;&#xFF0C;&#x5728;&#x8DEF;&#x7EBF;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x52A8;&#x753B;&#x8F6C;&#x6362;&#xFF0C;&#x4EE5;&#x53CA;&#x786E;&#x5B9A;&#x4F55;&#x65F6;&#x6CA1;&#x6709;&#x8DEF;&#x7EBF;&#x4E0E;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x76F8;&#x5339;&#x914D;&#xFF08;&#x4EE5;&#x4FBF;&#x5448;&#x73B0;&#x201C;404&#x201D;&#x7EC4;&#x4EF6;&#xFF09;&#x3002;</route></route></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/contact<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* when none of the above match, &lt;NoMatch&gt; will be rendered */</span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="basic-components-route-rendering-props"><a href="/web/guides/basic-components/route-rendering-props" class="internal-link">Route Rendering Props</a></h2>\n<p>&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x7684;<code>&lt;Route&gt;</code>: <code>component</code>, <code>render</code>, and <code>children</code>,&#x5982;&#x4F55;&#x6E32;&#x67D3;&#x7EC4;&#x4EF6;&#xFF0C;&#x6709;&#x4E09;&#x79CD;&#x9053;&#x5177;&#x9009;&#x62E9;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x67E5;&#x770B;<a href="/web/api/Route" class="internal-link"><code>&lt;Route&gt;</code> documentation</a>&#x6765;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C06;&#x91CD;&#x70B9;&#x653E;&#x5728;<code>component</code>&#x548C;<code>render</code>&#x4E0A;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x662F;&#x4E24;&#x4E2A; &#x4F60;&#x51E0;&#x4E4E;&#x603B;&#x662F;&#x4F1A;&#x7528;&#x7684;&#x3002;</p>\n<p>&#x5F53;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x4F60;&#x60F3;&#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#xFF08;&#x4E00;&#x4E2A;<code>React.Component</code>&#x6216;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#xFF09;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;<code>component</code>&#x3002; &#x53EA;&#x6709;&#x5728;&#x5FC5;&#x987B;&#x5C06;&#x8303;&#x56F4;&#x5185;&#x53D8;&#x91CF;&#x4F20;&#x9012;&#x7ED9;&#x8981;&#x5448;&#x73B0;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x624D;&#x5E94;&#x4F7F;&#x7528;<code>render</code>&#xFF08;&#x91C7;&#x7528;&#x5185;&#x8054;&#x51FD;&#x6570;&#xFF09;&#x3002; &#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x5185;&#x8054;&#x51FD;&#x6570;&#x7684;<code>component</code> prop&#x6765;&#x4F20;&#x5165;&#x8303;&#x56F4;&#x5185;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x7EC4;&#x4EF6;&#x5378;&#x8F7D;/&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> someVariable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n  \n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* these are good */</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span>\n        <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span>\n        <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>About <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> extra<span class="token punctuation">=</span><span class="token punctuation">{</span>someVariable<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">&gt;</span>\n      <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* do not do this */</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span>\n        <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/contact<span class="token punctuation">&apos;</span></span>\n        <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>Contact <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> extra<span class="token punctuation">=</span><span class="token punctuation">{</span>someVariable<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">&gt;</span>  \n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2 id="basic-components-navigation"><a href="/web/guides/basic-components/navigation" class="internal-link">Navigation</a></h2>\n<p>React&#x8DEF;&#x7531;&#x5668;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>&lt;Link&gt;</code>&#x7EC4;&#x4EF6;&#x6765;&#x5728;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x521B;&#x5EFA;&#x94FE;&#x63A5;&#x3002; &#x65E0;&#x8BBA;&#x60A8;&#x5728;&#x54EA;&#x91CC;&#x5448;&#x73B0;&#x201C;<link>&#x201D;&#xFF0C;&#x90FD;&#x4F1A;&#x5728;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;HTML&#x4E2D;&#x5448;&#x73B0;&#x951A;&#x70B9;&#xFF08;<a>`&#xFF09;&#x3002;</a></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n<span class="token comment" spellcheck="true">// &lt;a href=&apos;/&apos;&gt;Home&lt;/a&gt;</span>\n</code></pre>\n<p>&#x201C;<navlink>&#x201D;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7C7B;&#x578B;&#x7684;&#x201C;<link>&#x201D;&#xFF0C;&#x5F53;&#x201C;to&#x201D;prop&#x4E0E;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x81EA;&#x8EAB;&#x5B9A;&#x4E49;&#x4E3A;&#x201C;&#x6D3B;&#x52A8;&#x201D;&#x3002;</navlink></p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// location = { pathname: &apos;/react&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/react<span class="token punctuation">&apos;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>hurray<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>React<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n<span class="token comment" spellcheck="true">// &lt;a href=&apos;/react&apos; className=&apos;hurray&apos;&gt;React&lt;/a&gt;</span>\n</code></pre>\n<p>&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x4F60;&#x60F3;&#x8981;&#x5F3A;&#x5236;&#x5BFC;&#x822A;&#xFF0C;&#x4F60;&#x90FD;&#x53EF;&#x4EE5;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;<code>&lt;Redirect&gt;</code>&#x3002; &#x5F53;&#x4E00;&#x4E2A;<code>&lt;Redirect&gt;</code>&#x5448;&#x73B0;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x4F7F;&#x7528;&#x5B83;&#x7684;<code>to</code>&#x9053;&#x5177;&#x6765;&#x5BFC;&#x822A;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/login<span class="token punctuation">&apos;</span>/</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n',headers:[{text:"Routers",slug:"routers"},{text:"Route Matching",slug:"route-matching"},{text:"Route Rendering Props",slug:"route-rendering-props"},{text:"Navigation",slug:"navigation"}],title:{text:"Basic Components",slug:"basic-components"}}},591:function(n,a){n.exports={markup:'<h1 id="code-splitting"><a href="/web/guides/code-splitting" class="internal-link">Code Splitting</a></h1>\n<p>&#x7F51;&#x7AD9;&#x7684;&#x4E00;&#x5927;&#x7279;&#x8272;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4E0D;&#x5FC5;&#x8BA9;&#x8BBF;&#x95EE;&#x8005;&#x5728;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x4E0B;&#x8F7D;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x770B;&#x4F5C;&#x9012;&#x589E;&#x5730;&#x4E0B;&#x8F7D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x4E3A;&#x4E86;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;<a href="https://webpack.js.org/">webpack</a>&#xFF0C;<a href="https://babeljs.io/docs/plugins/syntax-dynamic-import/"><code>babel-plugin-syntax-dynamic-import</code></a>&#x548C;<a href="https://github.com/thejameskyle/react-loadable"><code>react-loadable</code></a>&#x3002;</p>\n<p><a href="https://webpack.js.org/">webpack</a>&#x5185;&#x7F6E;&#x4E86;&#x5BF9;<a href="https://github.com/tc39/proposal-dynamic-import">dynamic imports</a>&#x7684;&#x652F;&#x6301;; &#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;<a href="https://babeljs.io/">Babel</a>&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5C06;JSX&#x7F16;&#x8BD1;&#x6210;JavaScript&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5C06;&#x9700;&#x8981;&#x4F7F;&#x7528;<a href="https://babeljs.io/docs/plugins/syntax-dynamic-import/"><code>babel-plugin-syntax-dynamic-import</code></a>&#x63D2;&#x4EF6;&#x3002; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EA;&#x6709;&#x8BED;&#x6CD5;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5DF4;&#x522B;&#x4E0D;&#x4F1A;&#x505A;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x7684;&#x8F6C;&#x6362;&#x3002; &#x8BE5;&#x63D2;&#x4EF6;&#x53EA;&#x5141;&#x8BB8;Babel&#x89E3;&#x6790;&#x52A8;&#x6001;&#x5BFC;&#x5165;&#xFF0C;&#x56E0;&#x6B64;webpack&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x4F5C;&#x4E3A;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x8FDB;&#x884C;&#x6346;&#x7ED1;&#x3002; &#x4F60;&#x7684;<code>.babelrc</code>&#x5E94;&#x8BE5;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x8FD9;&#x6837;:</p>\n<pre><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;react&quot;</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;syntax-dynamic-import&quot;</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p><a href="https://github.com/thejameskyle/react-loadable"><code>react-loadable</code></a>&#x662F;&#x7528;&#x52A8;&#x6001;&#x5BFC;&#x5165;&#x52A0;&#x8F7D;&#x7EC4;&#x4EF6;&#x7684;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x3002; &#x5B83;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x5404;&#x79CD;&#x8FB9;&#x754C;&#x60C5;&#x51B5;&#xFF0C;&#x4F7F;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x53D8;&#x5F97;&#x7B80;&#x5355;&#xFF01; &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x5982;&#x4F55;&#x4F7F;&#x7528;<a href="https://github.com/thejameskyle/react-loadable"><code>react-loadable</code></a>&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">&apos;react-loadable&apos;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Loading <span class="token keyword">from</span> <span class="token string">&apos;./Loading&apos;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> LoadableComponent <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  loader<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&apos;./Dashboard&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  loading<span class="token punctuation">:</span> Loading<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">LoadableDashboard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoadableComponent</span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x8FD9;&#x91CC;&#x7684;&#x6240;&#x6709;&#x90FD;&#x662F;&#x5B83;&#x7684;&#xFF01; &#x53EA;&#x9700;&#x4F7F;&#x7528;<code>LoadableDashboard</code>&#xFF08;&#x6216;&#x8005;&#x4EFB;&#x4F55;&#x4F60;&#x547D;&#x540D;&#x4F60;&#x7684;&#x7EC4;&#x4EF6;&#xFF09;&#xFF0C;&#x5F53;&#x4F60;&#x5728;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x548C;&#x6E32;&#x67D3;&#x3002; <code>loader</code>&#x9009;&#x9879;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x52A0;&#x8F7D;&#x7EC4;&#x4EF6;&#x7684;&#x51FD;&#x6570;&#xFF0C;<code>loading</code>&#x662F;&#x4E00;&#x4E2A;&#x5360;&#x4F4D;&#x7B26;&#x7EC4;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x5B9E;&#x9645;&#x7EC4;&#x4EF6;&#x52A0;&#x8F7D;&#x65F6;&#x663E;&#x793A;&#x3002;</p>\n<h2 id="code-splitting-code-splitting-and-server-side-rendering"><a href="/web/guides/code-splitting/code-splitting-and-server-side-rendering" class="internal-link">Code Splitting and Server-Side Rendering</a></h2>\n<p><a href="https://github.com/thejameskyle/react-loadable"><code>react-loadable</code></a>&#x5305;&#x62EC;<a href="https://github.com/thejameskyle/react-loadable/tree/6902cc87f618446c54daa85d8fecec6836c9461a#server-side-rendering">a guide for server-side rendering</a>. &#x6240;&#x6709;&#x4F60;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5728;&#x4F60;&#x7684;<code>.babelrc</code>&#x4E2D;&#x5305;&#x62EC;<a href="https://github.com/thejameskyle/react-loadable/tree/6902cc87f618446c54daa85d8fecec6836c9461a#babel-plugin-import-inspector"><code>babel-plugin-import-inspector</code></a>&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x6E32;&#x67D3;&#x5E94;&#x8BE5;&#x662F;&#x6B63;&#x5E38;&#x7684;&#x3002; &#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;<code>.babelrc</code>&#x6587;&#x4EF6;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>\n<pre><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;react&quot;</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;syntax-dynamic-import&quot;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span><span class="token string">&quot;import-inspector&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      <span class="token property">&quot;serverSideRequirePath&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span><span class="token punctuation">]</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre>\n',
headers:[{text:"Code Splitting and Server-Side Rendering",slug:"code-splitting-and-server-side-rendering"}],title:{text:"Code Splitting",slug:"code-splitting"}}},592:function(n,a){n.exports={markup:'<h1 id="quick-start"><a href="/web/guides/quick-start" class="internal-link">Quick Start</a></h1>\n<p>&#x5F00;&#x59CB;&#x4F7F;&#x7528;React Web&#x9879;&#x76EE;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x540D;&#x4E3A;<a href="https://github.com/facebookincubator/create-react-app">Create React App</a>&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x5927;&#x91CF;&#x793E;&#x533A;&#x5E2E;&#x52A9;&#x7684;Facebook&#x9879;&#x76EE;&#x3002;</p>\n<p>&#x9996;&#x5148;&#x5B89;&#x88C5;create-react-app&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x6CA1;&#x6709;&#xFF0C;&#x90A3;&#x4E48;\n&#x7528;&#x5B83;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;&#x3002;</p>\n<pre><code class="language-sh">npm <span class="token function">install</span> -g create-react-app\ncreate-react-app demo-app\n<span class="token function">cd</span> demo-app\n</code></pre>\n<h2 id="quick-start-installation"><a href="/web/guides/quick-start/installation" class="internal-link">Installation</a></h2>\n<p>React Router DOM&#x662F;<a href="https://npm.im/react-router-dom">published to npm</a>,&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x4EE5;&#x7528;<code>npm</code>&#x6216;<a href="https://yarnpkg.com"><code>yarn</code></a>&#x6765;&#x5B89;&#x88C5;&#x5B83;&#x3002; &#x521B;&#x5EFA;React App&#x4F7F;&#x7528;yarn&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5C06;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x3002;</p>\n<pre><code class="language-sh">yarn add react-router-dom\n<span class="token comment" spellcheck="true"># &#x6216;&#x8005;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x4F7F;&#x7528;yarn</span>\nnpm <span class="token function">install</span> react-router-dom\n</code></pre>\n<p>&#x73B0;&#x5728;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x4EFB;&#x4F55;&#x793A;&#x4F8B;&#x590D;&#x5236;/&#x7C98;&#x8D34;&#x5230;<code>src/App.js</code>&#x4E2D;&#x3002; &#x8FD9;&#x662F;&#x57FA;&#x672C;&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;:</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>\n  BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span>\n  Route<span class="token punctuation">,</span>\n  Link\n<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> About <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> Topic <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>topicId<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> Topics <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Topics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/rendering`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          Rendering <span class="token keyword">with</span> React\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/components`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          Components\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/props-v-state`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          Props v<span class="token punctuation">.</span> State\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/:topicId`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Topic<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>match<span class="token punctuation">.</span>path<span class="token punctuation">}</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Please select a topic<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> BasicExample <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/topics<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Topics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/&gt;</span></span>\n\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/topics<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Topics<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> BasicExample\n</code></pre>\n<p>Now you&#x2019;re ready to tinker. Happy routing!</p>\n',headers:[{text:"Installation",slug:"installation"}],title:{text:"Quick Start",slug:"quick-start"}}},593:function(n,a){n.exports={markup:'<h1 id="scroll-restoration"><a href="/web/guides/scroll-restoration" class="internal-link">Scroll Restoration</a></h1>\n<p>&#x5728;React Router&#x7684;&#x65E9;&#x671F;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x6EDA;&#x52A8;&#x6062;&#x590D;&#x7684;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x652F;&#x6301;&#xFF0C;&#x4EBA;&#x4EEC;&#x4ECE;&#x6B64;&#x4E00;&#x76F4;&#x5728;&#x5BFB;&#x6C42;&#x5B83;&#x3002; &#x5E0C;&#x671B;&#x8FD9;&#x4E2A;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x4ECE;&#x6EDA;&#x52A8;&#x6761;&#x548C;&#x8DEF;&#x7531;&#x4E2D;&#x83B7;&#x5F97;&#x4F60;&#x9700;&#x8981;&#x7684;&#x4E1C;&#x897F;&#xFF01;</p>\n<p>&#x6D4F;&#x89C8;&#x5668;&#x5F00;&#x59CB;&#x7528;&#x81EA;&#x5DF1;&#x7684;<code>history.pushState</code>&#x6765;&#x5904;&#x7406;&#x6EDA;&#x52A8;&#x6062;&#x590D;&#xFF0C;&#x5C31;&#x50CF;&#x7528;&#x666E;&#x901A;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5BFC;&#x822A;&#x4E00;&#x6837;&#x3002; &#x5B83;&#x5DF2;&#x7ECF;&#x5728;&#x94EC;&#x5DE5;&#x4F5C;&#xFF0C;&#x5B83;&#x771F;&#x7684;&#x5F88;&#x68D2;&#x3002; <a href="https://majido.github.io/scroll-restoration-proposal/history-based-api.html#web-idl">Here&#x2019;s the Scroll Restoration Spec</a>.</p>\n<p>&#x7531;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x5F00;&#x59CB;&#x5904;&#x7406;&#x201C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x201D;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6EDA;&#x52A8;&#x9700;&#x6C42;&#xFF08;&#x5982;&#x672C;&#x7F51;&#x7AD9;&#xFF01;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x7684;&#x6EDA;&#x52A8;&#x7BA1;&#x7406;&#x3002; &#x672C;&#x6307;&#x5357;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x5B9E;&#x73B0;&#x60A8;&#x62E5;&#x6709;&#x7684;&#x4EFB;&#x4F55;&#x6EDA;&#x52A8;&#x9700;&#x6C42;&#x3002;</p>\n<h2 id="scroll-restoration-scroll-to-top"><a href="/web/guides/scroll-restoration/scroll-to-top" class="internal-link">Scroll to top</a></h2>\n<p>&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x4F60;&#x9700;&#x8981;&#x7684;&#x662F;&#x201C;scroll to the top&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x957F;&#x7684;&#x5185;&#x5BB9;&#x9875;&#x9762;&#xFF0C;&#x5BFC;&#x822A;&#x65F6;&#xFF0C;&#x4FDD;&#x6301;&#x5411;&#x4E0B;&#x6EDA;&#x52A8;&#x3002; &#x8FD9;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x6BCF;&#x4E2A;&#x5BFC;&#x822A;&#x4E2D;&#x6EDA;&#x52A8;&#x7A97;&#x53E3;&#x7684;<scrolltotop>&#x7EC4;&#x4EF6;&#x6765;&#x5904;&#x7406;&#xFF0C;&#x786E;&#x4FDD;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x5728;<code>withRouter</code>&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x8BBF;&#x95EE;&#x8DEF;&#x7531;&#x5668;&#x7684;prop&#xFF1A;</scrolltotop></p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">ScrollToTop</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location <span class="token operator">!==</span> prevProps<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>ScrollToTop<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x7136;&#x540E;&#x5C06;&#x5176;&#x5448;&#x73B0;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x9876;&#x90E8;&#xFF0C;&#x4F46;&#x5728;&#x8DEF;&#x7531;&#x5668;&#x4E0B;&#x65B9;:</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollToTop</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScrollToTop</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// &#x6216;&#x8005;&#x53EA;&#x662F;&#x628A;&#x5B83;&#x653E;&#x5728;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x4E00;&#x4E2A; :)</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollToTop</span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x754C;&#x9762;&#x8FDE;&#x63A5;&#x5230;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x80FD;&#x4E0D;&#x5E0C;&#x671B;&#x6EDA;&#x52A8;&#x5230;&#x9876;&#x90E8;&#x5207;&#x6362;&#x6807;&#x7B7E;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x5728;&#x60A8;&#x9700;&#x8981;&#x7684;&#x7279;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF0C;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x201C;<scrolltotoponmount>&#x201D;&#xFF1F;</scrolltotoponmount></p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">ScrollToTopOnMount</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">null</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">LongContent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollToTopOnMount</span><span class="token punctuation">/&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Here is my long content page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// somewhere else</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/long-content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>LongContent<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="scroll-restoration-"><a href="/web/guides/scroll-restoration/" class="internal-link">&#x901A;&#x7528;&#x89E3;&#x51B3;&#x65B9;&#x6848;</a></h2>\n<p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF08;&#x4EE5;&#x53CA;&#x54EA;&#x4E9B;&#x6D4F;&#x89C8;&#x5668;&#x5F00;&#x59CB;&#x5B9E;&#x65BD;&#x672C;&#x5730;&#x5316;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x8C08;&#x7684;&#x662F;&#x4E24;&#x4EF6;&#x4E8B;&#x60C5;:</p>\n<ol>\n<li>&#x6EDA;&#x52A8;&#x5BFC;&#x822A;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x4E0D;&#x4F1A;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5C4F;&#x5E55;&#x6EDA;&#x52A8;&#x5230;&#x5E95;&#x90E8;</li>\n<li>&#x5728; &#x201C;back&#x201D; and &#x201C;forward&#x201D; &#x70B9;&#x51FB;&#x6062;&#x590D;&#x7A97;&#x53E3;&#x548C;&#x6EA2;&#x51FA;&#x5143;&#x7D20;&#x7684;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF08;&#x4F46;&#x4E0D;&#x662F;&#x94FE;&#x63A5;&#x70B9;&#x51FB;&#xFF01;&#xFF09;</li>\n</ol>\n<p>&#x6709;&#x4E00;&#x70B9;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;API&#x3002; &#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x524D;&#x8FDB;&#x7684;&#x65B9;&#x5411;:</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollRestoration</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RestoredScroll</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bunny<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> height<span class="token punctuation">:</span> <span class="token string">&apos;200px&apos;</span><span class="token punctuation">,</span> overflow<span class="token punctuation">:</span> <span class="token string">&apos;auto&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          I will overflow\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RestoredScroll</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScrollRestoration</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x9996;&#x5148;&#xFF0C;ScrollRestoration&#x4F1A;&#x5728;&#x5BFC;&#x822A;&#x4E0A;&#x6EDA;&#x52A8;&#x7A97;&#x53E3;&#x3002; &#x5176;&#x6B21;&#xFF0C;&#x5B83;&#x5C06;&#x4F7F;&#x7528;<code>location.key</code>&#x6765;&#x5C06;&#x7A97;&#x53E3;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;<em>&#x548C;</em> RestoredScroll&#x7EC4;&#x4EF6;&#x7684;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#x4FDD;&#x5B58;&#x5230;<code>sessionStorage</code>&#x3002; &#x7136;&#x540E;&#xFF0C;&#x5F53;&#x201C;ScrollRestoration&#x201D;&#x6216;&#x201C;RestoredScroll&#x201D;&#x7EC4;&#x4EF6;&#x6302;&#x8F7D;&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;<code>sessionsStorage</code>&#x67E5;&#x627E;&#x5B83;&#x4EEC;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>\n<p>&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#xFF0C;&#x68D8;&#x624B;&#x7684;&#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&quot;opt-out&quot;&#x7684;API&#xFF0C;&#x5F53;&#x6211;&#x4E0D;&#x5E0C;&#x671B;&#x7A97;&#x53E3;&#x6EDA;&#x52A8;&#x7BA1;&#x7406;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6709;&#x4E00;&#x4E9B;&#x6807;&#x7B7E;&#x5BFC;&#x822A;&#x5728;&#x4F60;&#x7684;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x4E2D;&#x6D6E;&#x52A8;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;*&#x4E0D;&#x60F3;&#x6EDA;&#x52A8;&#x5230;&#x9876;&#x90E8;&#xFF08;&#x6807;&#x7B7E;&#x53EF;&#x80FD;&#x4F1A;&#x6EDA;&#x52A8;&#x5230;&#x89C6;&#x56FE;&#x5916;&#xFF01;&#xFF09;&#x3002;</p>\n<p>&#x5F53;&#x6211;&#x77E5;&#x9053;chrome&#x73B0;&#x5728;&#x4E3A;&#x6211;&#x4EEC;&#x7BA1;&#x7406;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;, &#x5E76;&#x610F;&#x8BC6;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C06;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6EDA;&#x52A8;&#x9700;&#x6C42;&#xFF0C;&#x6211;&#x6709;&#x70B9;&#x5931;&#x53BB;&#x4E86;&#x4FE1;&#x5FC3;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x7684;&#x4E1C;&#x897F; - &#x5C24;&#x5176;&#x662F;&#x5F53;&#x4EBA;&#x4EEC;&#x53EA;&#x662F;&#x60F3;&#x6EDA;&#x52A8;&#x5230;&#x9876;&#x90E8;&#xFF08;&#x4F60;&#x770B;&#x5230;&#x7684;&#x662F;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5230;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; &#x5728;&#x4F60;&#x81EA;&#x5DF1;).</p>\n<p>&#x57FA;&#x4E8E;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x5F3A;&#x70C8;&#x5730;&#x81EA;&#x6211;&#x5B8C;&#x6210;&#x5DE5;&#x4F5C;&#xFF08;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x6709;&#x9650;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x6837;&#xFF01;&#xFF09;.&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5F88;&#x4E50;&#x610F;&#x5E2E;&#x52A9;&#x4EFB;&#x4F55;&#x503E;&#x5411;&#x4E8E;&#x5B9E;&#x65BD;&#x901A;&#x7528;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x4EBA;. &#x4E2A;&#x53EF;&#x9760;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x9879;&#x76EE;&#x4E2D;. Hit us up if you get started on it :)</p>\n',
headers:[{text:"Scroll to top",slug:"scroll-to-top"},{text:"通用解决方案",slug:""}],title:{text:"Scroll Restoration",slug:"scroll-restoration"}}},594:function(n,a){n.exports={markup:'<h1 id="server-rendering"><a href="/web/guides/server-rendering" class="internal-link">Server Rendering</a></h1>\n<p>&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6E32;&#x67D3;&#x6709;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x3002; &#x57FA;&#x672C;&#x7684;&#x60F3;&#x6CD5;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C01;&#x88C5;&#x5728;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;<a href="/web/api/StaticRouter" class="internal-link"><code>&lt;StaticRouter&gt;</code></a>&#x4E2D;&#x800C;&#x4E0D;&#x662F;[<code>BrowserRouter]</code><a href="/web/api/BrowserRouter" class="internal-link">BrowserRouter</a>&#x4E2D;&#x3002; &#x6211;&#x4EEC;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4F20;&#x5165;&#x8BF7;&#x6C42;&#x7684;URL&#xFF0C;&#x4EE5;&#x4FBF;&#x8DEF;&#x7531;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x8BA8;&#x8BBA;&#x4E00;&#x4E2A;&#x201C;context&#x201D;&#x652F;&#x6301;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// client</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment" spellcheck="true">// server (not the complete story)</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span>\n  <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span>\n  <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span>\n<span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x6E32;&#x67D3;[<code>Redirect&gt;] [Redirect]&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4F1A;&#x66F4;&#x6539;&#x72B6;&#x6001;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x83B7;&#x5F97;&#x65B0;&#x7684;&#x5C4F;&#x5E55;&#x3002; &#x5728;&#x9759;&#x6001;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x66F4;&#x6539;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x72B6;&#x6001;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;</code>context<code>prop&#x6765;&#x627E;&#x51FA;&#x6E32;&#x67D3;&#x7ED3;&#x679C;&#x662F;&#x4EC0;&#x4E48;&#x3002; &#x5982;&#x679C;&#x6211;&#x4EEC;&#x627E;&#x5230;</code>context.url`&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x88AB;&#x91CD;&#x5B9A;&#x5411;&#x4E86;&#x3002; &#x8FD9;&#x4F7F;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x6B63;&#x786E;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">const</span> markup <span class="token operator">=</span> ReactDOMServer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span>\n    <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span>\n    <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span>\n  <span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// Somewhere a `&lt;Redirect&gt;` was rendered</span>\n  <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">301</span><span class="token punctuation">,</span> context<span class="token punctuation">.</span>url<span class="token punctuation">)</span>\n<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// we&apos;re good, send the response</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2 id="server-rendering-"><a href="/web/guides/server-rendering/" class="internal-link">&#x6DFB;&#x52A0;&#x5E94;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;</a></h2>\n<p>&#x8DEF;&#x7531;&#x5668;&#x53EA;&#x6DFB;&#x52A0;<code>context.url</code>&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x91CD;&#x5B9A;&#x5411;&#x4E3A;301&#x548C;&#x5176;&#x4ED6;302.&#x6216;&#x8005;&#xFF0C;&#x4E5F;&#x8BB8;&#x4F60;&#x60F3;&#x53D1;&#x9001;&#x4E00;&#x4E2A;404&#x54CD;&#x5E94;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;UI&#x5206;&#x652F;&#x88AB;&#x6E32;&#x67D3;&#xFF0C;&#x6216;401&#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x6CA1;&#x6709;&#x88AB;&#x6388;&#x6743;&#x3002; &#x4E0A;&#x4E0B;&#x6587;&#x652F;&#x67F1;&#x662F;&#x4F60;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x5B83;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x533A;&#x5206;301&#x548C;302&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> RedirectWithStatus <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> status <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Route render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> staticContext <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">//&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x6CA1;&#x6709;`staticContext`&#xFF0C;&#x6240;&#x4EE5;</span>\n    <span class="token comment" spellcheck="true">//&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x8FD9;&#x91CC;&#x9632;&#x8303;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>staticContext<span class="token punctuation">)</span>\n      staticContext<span class="token punctuation">.</span>status <span class="token operator">=</span> status\n    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">from</span><span class="token punctuation">}</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// &#x5728;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x67D0;&#x5904;</span>\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* &#x5176;&#x4ED6;&#x4E00;&#x4E9B;routes */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RedirectWithStatus</span>\n      <span class="token attr-name">status</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">301</span><span class="token punctuation">}</span></span>\n      <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span></span>\n      <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/profiles<span class="token punctuation">&quot;</span></span>\n    <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RedirectWithStatus</span>\n      <span class="token attr-name">status</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">302</span><span class="token punctuation">}</span></span>\n      <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/courses<span class="token punctuation">&quot;</span></span>\n      <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span>\n    <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// on the server</span>\n<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> markup <span class="token operator">=</span> ReactDOMServer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// can use the `context.status` that</span>\n  <span class="token comment" spellcheck="true">// &#x6211;&#x4EEC;&#x52A0;&#x5165;&#x4E86; RedirectWithStatus</span>\n  <span class="token function">redirect</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>status<span class="token punctuation">,</span> context<span class="token punctuation">.</span>url<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2 id="server-rendering-404-401-or-any-other-status"><a href="/web/guides/server-rendering/404-401-or-any-other-status" class="internal-link">404, 401, or any other status</a></h2>\n<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x505A;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5982;&#x4E0A;&#x6240;&#x8FF0;&#x3002; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x4E0A;&#x4E0B;&#x6587;&#x5E76;&#x5C06;&#x5176;&#x5448;&#x73B0;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4EFB;&#x4F55;&#x4F4D;&#x7F6E;&#x4EE5;&#x83B7;&#x53D6;&#x4E0D;&#x540C;&#x7684;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> Status <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> code<span class="token punctuation">,</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> staticContext <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>staticContext<span class="token punctuation">)</span>\n      staticContext<span class="token punctuation">.</span>status <span class="token operator">=</span> code\n    <span class="token keyword">return</span> children\n  <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x73B0;&#x5728;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4F4D;&#x7F6E;&#x5448;&#x73B0;<code>Status</code>&#xFF0C;&#x4EE5;&#x5C06;&#x4EE3;&#x7801;&#x6DFB;&#x52A0;&#x5230;<code>staticContext</code>&#x4E2D;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> NotFound <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Status</span> <span class="token attr-name">code</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">404</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Sorry<span class="token punctuation">,</span> can&#x2019;t find that<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Status</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// somewhere else</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NotFound<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="server-rendering-"><a href="/web/guides/server-rendering/" class="internal-link">&#x628A;&#x5B83;&#x653E;&#x5728;&#x4E00;&#x8D77;</a></h2>\n<p>&#x8FD9;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F46;&#x5B83;&#x663E;&#x793A;&#x4E86;&#x6240;&#x6709;&#x7684;&#x4E00;&#x822C;&#x4F60;&#x4F1A;\n&#x9700;&#x8981;&#x628A;&#x5B83;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;http&apos;</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> ReactDOMServer <span class="token keyword">from</span> <span class="token string">&apos;react-dom/server&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StaticRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&apos;./App&apos;</span>\n\n<span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> html <span class="token operator">=</span> ReactDOMServer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span>\n      <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span>\n      <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span>\n    <span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">301</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      Location<span class="token punctuation">:</span> context<span class="token punctuation">.</span>url\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>`\n      <span class="token operator">&lt;</span><span class="token operator">!</span>doctype html<span class="token operator">&gt;</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>html<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    `<span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>\n</code></pre>\n<p>&#x7136;&#x540E;&#x662F;&#x5BA2;&#x6237;&#x7AEF;:</p>\n<pre><code class="language-js"><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&apos;react-dom&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&apos;./App&apos;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;app&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="server-rendering-"><a href="/web/guides/server-rendering/" class="internal-link">&#x6570;&#x636E;&#x52A0;&#x8F7D;</a></h2>\n<p>&#x6709;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x7684;&#x6700;&#x4F73;&#x505A;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;&#x7528;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x6765;&#x7EC4;&#x5408;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x89C4;&#x5B9A;&#x6216;&#x503E;&#x5411;&#x4E8E;&#x67D0;&#x4E00;&#x65B9;&#x9762;&#x3002; &#x6211;&#x4EEC;&#x786E;&#x4FE1;router&#x53EF;&#x4EE5;&#x9002;&#x5E94;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x9650;&#x5236;&#x3002;</p>\n<p>&#x4E3B;&#x8981;&#x7684;&#x9650;&#x5236;&#x662F;&#x4F60;&#x60F3;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x3002; React&#x8DEF;&#x7531;&#x5668;&#x5BFC;&#x51FA;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x7684;matchPath&#x9759;&#x6001;&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x5339;&#x914D;&#x8DEF;&#x7531;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x5E2E;&#x52A9;&#x786E;&#x5B9A;&#x4F60;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x8D56;&#x5C06;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x3002;</p>\n<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x8981;&#x70B9;&#x4F9D;&#x8D56;&#x4E8E;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#xFF0C;&#x7528;&#x4E8E;&#x5448;&#x73B0;&#x60A8;&#x7684;routes&#x5E76;&#x5728;&#x6E32;&#x67D3;&#x524D;&#x5339;&#x914D;&#x4EE5;&#x786E;&#x5B9A;&#x6570;&#x636E;&#x4F9D;&#x8D56;&#x6027;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> Root<span class="token punctuation">,</span>\n    loadData<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">getSomeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token comment" spellcheck="true">// etc.</span>\n<span class="token punctuation">]</span>\n</code></pre>\n<p>&#x7136;&#x540E;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6765;&#x6E32;&#x67D3;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;routes:</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;./routes&apos;</span>\n\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span>routes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>route <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>Route <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>route<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x7136;&#x540E;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x4F60;&#x4F1A;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x4E1C;&#x897F;:</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> matchPath <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token comment" spellcheck="true">// &#x5728;&#x8BF7;&#x6C42;&#x5185;</span>\n<span class="token keyword">const</span> promises <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token comment" spellcheck="true">//&#x4F7F;&#x7528;`some`&#x6A21;&#x62DF;`&lt;Switch&gt;`&#x9009;&#x62E9;&#x7684;&#x884C;&#x4E3A;</span>\n<span class="token comment" spellcheck="true">//&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;</span>\nroutes<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>route <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// use `matchPath` here</span>\n  <span class="token keyword">const</span> match <span class="token operator">=</span> <span class="token function">matchPath</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>path<span class="token punctuation">,</span> route<span class="token punctuation">)</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span>\n    promises<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span><span class="token function">loadData</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token keyword">return</span> match\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\nPromise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n   <span class="token comment" spellcheck="true">//&#x505A;&#x4E00;&#x4E9B;&#x6709;&#x5173;&#x6570;&#x636E;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5BA2;&#x6237;&#x7AEF;</span>\n   <span class="token comment" spellcheck="true">//&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5B83;&#xFF0C;&#x7136;&#x540E;&#x6E32;&#x67D3;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>&#x6700;&#x540E;&#xFF0C;&#x5BA2;&#x6237;&#x9700;&#x8981;&#x62FF;&#x8D77;&#x6570;&#x636E;&#x3002; &#x540C;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;&#x4E3A;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x8FD9;&#x4E9B;&#x662F;&#x60A8;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x89E6;&#x70B9;&#x3002;</p>\n<p>&#x60A8;&#x53EF;&#x80FD;&#x5BF9;&#x6211;&#x4EEC;&#x7684;<a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config">React Router Config</a> &#x8F6F;&#x4EF6;&#x5305;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x901A;&#x8FC7;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x534F;&#x52A9;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6E32;&#x67D3;&#x3002;</p>\n',
headers:[{text:"添加应用特定的上下文信息",slug:""},{text:"404, 401, or any other status",slug:"404-401-or-any-other-status"},{text:"把它放在一起",slug:""},{text:"数据加载",slug:""}],title:{text:"Server Rendering",slug:"server-rendering"}}},604:function(n,a){n.exports={markup:'<h1 id="MemoryRouter"><a href="/web/api/MemoryRouter" class="internal-link">&lt;MemoryRouter&gt;</a></h1>\n<p>&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4FDD;&#x5B58;&quot;URL&quot;&#x7684;&#x5386;&#x53F2;&#x7684;<a href="Router.md"><code>&lt;Router&gt;</code></a>&#xFF08;&#x4E0D;&#x8BFB;&#x53D6;&#x6216;&#x5199;&#x5165;&#x5730;&#x5740;&#x680F;&#xFF09;&#x3002; &#x5728;&#x6D4B;&#x8BD5;&#x548C;&#x975E;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;&#xFF08;&#x5982;<a href="https://facebook.github.io/react-native/">React Native</a>&#xFF09;&#x4E2D;&#x5F88;&#x6709;&#x7528;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> MemoryRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-initialentries-array"><a href="/web/api/MemoryRouter/initialentries-array" class="internal-link">initialEntries: array</a></h2>\n<p>&#x5386;&#x53F2;&#x5806;&#x6808;&#x4E2D;&#x7684;<code>location</code>&#x6570;&#x7EC4;&#x3002; &#x8FD9;&#x4E9B;&#x53EF;&#x80FD;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x7684;&#x4F4D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x5177;&#x6709;<code>{ pathname, search, hash, state }</code>&#x6216;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;URL&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span>\n  <span class="token attr-name">initialEntries</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span> <span class="token string">&apos;/one&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;/two&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">&apos;/three&apos;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">}</span></span>\n  <span class="token attr-name">initialIndex</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span>\n<span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-initialindex-number"><a href="/web/api/MemoryRouter/initialindex-number" class="internal-link">initialIndex: number</a></h2>\n<p>initialEntries&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x521D;&#x59CB;&#x4F4D;&#x7F6E;&#x7D22;&#x5F15;&#x3002;</p>\n<h2 id="MemoryRouter-getuserconfirmation-func"><a href="/web/api/MemoryRouter/getuserconfirmation-func" class="internal-link">getUserConfirmation: func</a></h2>\n<p>initialEntries&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x521D;&#x59CB;&#x4F4D;&#x7F6E;&#x7D22;&#x5F15;&#x3002;</p>\n<h2 id="MemoryRouter-keylength-number"><a href="/web/api/MemoryRouter/keylength-number" class="internal-link">keyLength: number</a></h2>\n<p><code>location.key</code>&#x7684;&#x957F;&#x5EA6;&#x3002; &#x9ED8;&#x8BA4;&#x4E3A;6&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span> <span class="token attr-name">keyLength</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-children-node"><a href="/web/api/MemoryRouter/children-node" class="internal-link">children: node</a></h2>\n<p>&#x4E00;&#x4E2A; <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">&#x5355;&#x4E2A;&#x5B50;&#x5143;&#x7D20;</a> &#x6765;&#x6E32;&#x67D3;&#x3002;</p>\n',headers:[{text:"initialEntries: array",slug:"initialentries-array"},{text:"initialIndex: number",slug:"initialindex-number"},{text:"getUserConfirmation: func",slug:"getuserconfirmation-func"},{text:"keyLength: number",slug:"keylength-number"},{text:"children: node",slug:"children-node"}],title:{text:"<MemoryRouter>",slug:"MemoryRouter"}}},608:function(n,a){n.exports={markup:'<h1 id="Redirect"><a href="/web/api/Redirect" class="internal-link">&lt;Redirect&gt;</a></h1>\n<p>&#x6E32;&#x67D3;&#x4E00;&#x4E2A;<code>&lt;Redirect&gt;</code>&#x5C06;&#x4F1A;&#x5BFC;&#x822A;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;&#x3002; &#x65B0;&#x4F4D;&#x7F6E;&#x5C06;&#x8986;&#x76D6;&#x5386;&#x53F2;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F8B;&#x5982;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x91CD;&#x5B9A;&#x5411;&#xFF08;HTTP 3xx&#xFF09;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  loggedIn <span class="token operator">?</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublicHomePage</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-to-string"><a href="/web/api/Redirect/to-string" class="internal-link">to: string</a></h2>\n<p>&#x8981;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x7684;URL&#x3002; &#x4EFB;&#x4F55;&#x6709;&#x6548;&#x7684;URL&#x8DEF;&#x5F84;&#xFF0C;<a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a>&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x3002;\n<code>to</code>&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;URL&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x7531;<code>from</code>&#x8986;&#x76D6;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere/else<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-to-object"><a href="/web/api/Redirect/to-object" class="internal-link">to: object</a></h2>\n<p>&#x8981;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x7684;&#x4F4D;&#x7F6E;&#x3002; <code>pathname</code>&#x53EF;&#x4EE5;&#x662F;<a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a>&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x7684;&#x4EFB;&#x4F55;&#x6709;&#x6548;&#x7684;URL&#x8DEF;&#x5F84;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/login&apos;</span><span class="token punctuation">,</span>\n  search<span class="token punctuation">:</span> <span class="token string">&apos;?utm=your+face&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> referrer<span class="token punctuation">:</span> currentLocation <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span><span class="token attr-name">}</span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-push-bool"><a href="/web/api/Redirect/push-bool" class="internal-link">push: bool</a></h2>\n<p>&#x5F53;<code>true</code>&#x65F6;&#xFF0C;&#x91CD;&#x5B9A;&#x5411;&#x4F1A;&#x628A;&#x65B0;&#x7684;&#x6761;&#x76EE;&#x63A8;&#x5230;&#x5386;&#x53F2;&#x4E0A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x66FF;&#x6362;&#x5F53;&#x524D;&#x7684;&#x6761;&#x76EE;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">push</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere/else<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-from-string"><a href="/web/api/Redirect/from-string" class="internal-link">from: string</a></h2>\n<p>&#x8981;&#x4ECE;&#x4E2D;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x3002; &#x4EFB;&#x4F55;&#x6709;&#x6548;&#x7684;URL&#x8DEF;&#x5F84;<a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a>&#x7406;&#x89E3;&#x3002;</p>\n<p>&#x6240;&#x6709;&#x5339;&#x914D;&#x7684;URL&#x53C2;&#x6570;&#x90FD;&#x63D0;&#x4F9B;&#x7ED9;<code>to</code>&#x4E2D;&#x7684;&#x6A21;&#x5F0F;&#x3002; &#x5FC5;&#x987B;&#x5305;&#x542B;&#x5728;<code>to</code>&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x3002; &#x672A;&#x88AB;<code>to</code>&#x4F7F;&#x7528;&#x7684;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x88AB;&#x5FFD;&#x7565;&#x3002;</p>\n<p>&#x8FD9;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5728;<code>&lt;Switch&gt;</code>&#x5185;&#x90E8;&#x6E32;&#x67D3;<code>&lt;Redirect&gt;</code>&#x65F6;&#x5339;&#x914D;&#x4F4D;&#x7F6E;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="/web/api/Switch/children-node" class="internal-link"><code>&lt;Switch children&gt;</code></a>&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/old-path<span class="token punctuation">&apos;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/new-path<span class="token punctuation">&apos;</span>/</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/new-path<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Place<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// Redirect with matched parameters</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/:id<span class="token punctuation">&apos;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/profile/:id<span class="token punctuation">&apos;</span>/</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/profile/:id<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Profile<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-exact-bool"><a href="/web/api/Redirect/exact-bool" class="internal-link">exact: bool</a></h2>\n<p>&#x5B8C;&#x5168;&#x5339;&#x914D;<code>from</code>; &#x76F8;&#x5F53;&#x4E8E; <a href="/web/api/Route/exact-bool" class="internal-link">Route.exact</a>.</p>\n<h2 id="Redirect-strict-bool"><a href="/web/api/Redirect/strict-bool" class="internal-link">strict: bool</a></h2>\n<p>&#x4E25;&#x683C;&#x5339;&#x914D;<code>from</code>; &#x76F8;&#x5F53;&#x4E8E; <a href="/web/api/Route/strict-bool" class="internal-link">Route.strict</a>.</p>\n',headers:[{text:"to: string",slug:"to-string"},{text:"to: object",slug:"to-object"},{text:"push: bool",slug:"push-bool"},{text:"from: string",slug:"from-string"},{text:"exact: bool",slug:"exact-bool"},{text:"strict: bool",slug:"strict-bool"}],title:{text:"<Redirect>",slug:"Redirect"}}},611:function(n,a){n.exports={markup:'<h1 id="Route"><a href="/web/api/Route" class="internal-link">&lt;Route&gt;</a></h1>\n<p>Route&#x7EC4;&#x4EF6;&#x4E5F;&#x8BB8;&#x662F;React&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x7EC4;&#x4EF6;\n&#x8DEF;&#x7531;&#x5668;&#x4E86;&#x89E3;&#x5E76;&#x5B66;&#x4E60;&#x4F7F;&#x7528;&#x597D;&#x3002; &#x5B83;&#x6700;&#x57FA;&#x672C;&#x7684;\n&#x5F53;&#x4E00;&#x4E2A;<a href="/web/api/location" class="internal-link">location</a>\n&#x5339;&#x914D;route&#x7684;<code>path</code>&#x3002;</p>\n<p>&#x8003;&#x8651;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;:</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NewsFeed<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x662F;<code>/</code>&#xFF0C;&#x90A3;&#x4E48;UI&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x5C31;&#x662F;&#x7C7B;&#x4F3C;&#x7684;:</p>\n<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Home</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token comment" spellcheck="true">&lt;!-- react-empty: 2 --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x662F;<code>/news</code>&#xFF0C;&#x90A3;&#x4E48;UI&#x5C42;&#x6B21;&#x5C06;&#x662F;:</p>\n<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment" spellcheck="true">&lt;!-- react-empty: 1 --&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NewsFeed</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&quot;react-empty&quot;&#x6CE8;&#x91CA;&#x53EA;&#x662F;React&#x7684;<code>null</code>&#x6E32;&#x67D3;&#x7684;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x3002; &#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x6709;&#x76CA;&#x7684;&#x3002; &#x5373;&#x4F7F;&#x6E32;&#x67D3;&#x4E3A;null&#xFF0C;&#x8DEF;&#x7531;&#x4E5F;&#x603B;&#x662F;&#x5728;&#x6280;&#x672F;&#x4E0A;&#x201C;&#x6E32;&#x67D3;&#x201D;&#x3002; &#x53EA;&#x8981;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x8DEF;&#x5F84;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x60A8;&#x7684;&#x7EC4;&#x4EF6;&#x5C06;&#x88AB;&#x6E32;&#x67D3;&#x3002;</p>\n<h2 id="Route-route-render-methods"><a href="/web/api/Route/route-render-methods" class="internal-link">Route render methods</a></h2>\n<p>&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x7528;<code>&lt;Route&gt;</code>&#x6765;&#x6E32;&#x67D3;&#x4E1C;&#x897F;:</p>\n<ul>\n<li><a href="/web/api/Route/component" class="internal-link"><code>&lt;Route component&gt;</code></a></li>\n<li><a href="/web/api/Route/render-func" class="internal-link"><code>&lt;Route render&gt;</code></a></li>\n<li><a href="/web/api/Route/children-func" class="internal-link"><code>&lt;Route children&gt;</code></a></li>\n</ul>\n<p>&#x6BCF;&#x4E2A;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x6709;&#x7528;&#x3002; &#x4F60;&#x53EA;&#x80FD;&#x5728;&#x7ED9;&#x5B9A;&#x7684;<route>&#x4E2D;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;props&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002; &#x770B;&#x4E0B;&#x9762;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x4E86;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48;&#x4F60;&#x6709;3&#x4E2A;&#x9009;&#x9879;&#x3002; &#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x4F60;&#x4F1A;&#x4F7F;&#x7528;<code>component</code>&#x3002;</route></p>\n<h2 id="Route-route-props"><a href="/web/api/Route/route-props" class="internal-link">Route props</a></h2>\n<p>&#x4E09;&#x4E2A;<a href="/web/api/Route/route-render-methods" class="internal-link">render methods</a>&#x90FD;&#x5C06;&#x901A;&#x8FC7;&#x76F8;&#x540C;&#x7684;&#x4E09;&#x4E2A;route props</p>\n<ul>\n<li><a href="/web/api/match" class="internal-link">match</a></li>\n<li><a href="/web/api/location" class="internal-link">location</a></li>\n<li><a href="/web/api/history" class="internal-link">history</a></li>\n</ul>\n<h2 id="Route-component"><a href="/web/api/Route/component" class="internal-link">component</a></h2>\n<p>React&#x7EC4;&#x4EF6;&#x53EA;&#x5728;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#x6E32;&#x67D3;&#x3002; &#x8FD9;&#x5C06;&#x662F;\n&#x5448;&#x73B0;&#x4E0E;<a href="/web/api/Route/route-props" class="internal-link">route props</a>.</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/user/:username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello <span class="token punctuation">{</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x5F53;&#x4F60;&#x4F7F;&#x7528;<code>component</code>&#xFF08;&#x800C;&#x4E0D;&#x662F;<code>render</code>&#x6216;<code>children</code>&#xFF0C;&#x4E0B;&#x9762;&#xFF09;&#x65F6;&#xFF0C;router&#x4F7F;&#x7528;<a href="https://facebook.github.io/react/docs/react-api.html#createelement"><code>React.createElement</code></a>&#x4ECE;&#x7ED9;&#x5B9A;&#x7684;&#x7EC4;&#x4EF6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a href="https://facebook.github.io/react/docs/rendering-elements.html">React element</a>&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x4F60;&#x4E3A;<code>component</code>&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5185;&#x8054;&#x51FD;&#x6570;&#xFF0C;&#x4F60;&#x5C06;&#x4F1A;&#x5728;&#x6BCF;&#x4E2A;&#x6E32;&#x67D3;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#x3002; &#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x73B0;&#x6709;&#x7684;&#x7EC4;&#x4EF6;&#x5378;&#x8F7D;&#x548C;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#x5B89;&#x88C5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53EA;&#x66F4;&#x65B0;&#x73B0;&#x6709;&#x7684;&#x7EC4;&#x4EF6;&#x3002; &#x5F53;&#x4F7F;&#x7528;&#x5185;&#x8054;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5185;&#x8054;&#x6E32;&#x67D3;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;<code>render</code>&#x6216;<code>children</code>prop&#xFF08;&#x5982;&#x4E0B;&#xFF09;&#x3002;</p>\n<h2 id="Route-render-func"><a href="/web/api/Route/render-func" class="internal-link">render: func</a></h2>\n<p>&#x8FD9;&#x5141;&#x8BB8;&#x5728;&#x4E0A;&#x9762;&#x89E3;&#x91CA;&#x7684;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x65B9;&#x4FBF;&#x7684;&#x5185;&#x8054;&#x6E32;&#x67D3;&#x548C;&#x5305;&#x88C5;&#x3002;</p>\n<p>&#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528;<a href="/web/api/Route/component" class="internal-link"><code>component</code></a> prop&#x4E3A;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a href="https://facebook.github.io/react/docs/rendering-elements.html">React element</a>&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#x88AB;&#x8C03;&#x7528;&#x3002; <code>render</code> prop&#x6536;&#x5230;&#x6240;&#x6709;&#x4E0E;<code>component</code>&#x6E32;&#x67D3;prop&#x76F8;&#x540C;&#x7684;<a href="/web/api/Route/route-props" class="internal-link">route props</a>&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// convenient inline rendering</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n<span class="token comment" spellcheck="true">// wrapping/composing</span>\n<span class="token keyword">const</span> FadingRoute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> component<span class="token punctuation">:</span> Component<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Route <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>rest<span class="token punctuation">}</span> render<span class="token operator">=</span><span class="token punctuation">{</span>props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FadeIn</span><span class="token punctuation">&gt;</span></span>\n      <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FadeIn</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FadingRoute</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/cool<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Something<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p><strong>&#x8B66;&#x544A;</strong>:<code>&lt;Route component&gt;</code>&#x4F18;&#x5148;&#x4E8E;<code>&lt;Route render&gt;</code>,&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x5728;&#x540C;&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;</p>\n<h2 id="Route-children-func"><a href="/web/api/Route/children-func" class="internal-link">children: func</a></h2>\n<p>&#x6709;&#x65F6;&#x60A8;&#x9700;&#x8981;&#x5448;&#x73B0;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x5339;&#x914D;&#x4F4D;&#x7F6E;&#x3002; &#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x51FD;&#x6570;<code>children</code> prop&#x3002; &#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x4E0E;<code>render</code>&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5B83;&#x662F;&#x5426;&#x5339;&#x914D;&#x3002;</p>\n<p><code>children</code> render prop&#x548C;<code>component</code>&#x548C;<code>render</code>&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x9664;&#x975E;route&#x4E0D;&#x5339;&#x914D;URL&#xFF0C;&#x5426;&#x5219;<code>match</code>&#x662F;<code>null</code>&#x3002; &#x8FD9;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8DEF;&#x7EBF;&#x662F;&#x5426;&#x5339;&#x914D;&#x52A8;&#x6001;&#x8C03;&#x6574;&#x60A8;&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#x3002; &#x5982;&#x679C;&#x8DEF;&#x7EBF;&#x5339;&#x914D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&quot;active&quot;&#x7C7B;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListItemLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListItemLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere-else<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token keyword">const</span> ListItemLink <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> to<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span></span> <span class="token attr-name">children</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>li className<span class="token punctuation">=</span><span class="token punctuation">{</span>match <span class="token operator">?</span> <span class="token string">&apos;active&apos;</span> <span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span></span> <span class="token attr-name">{...rest}</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x8FD9;&#x5BF9;&#x52A8;&#x753B;&#x4E5F;&#x662F;&#x6709;&#x7528;&#x7684;:</p>\n<pre><code class="language-js"><span class="token operator">&lt;</span>Route children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* Animate&#x5C06;&#x59CB;&#x7EC8;&#x5448;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x751F;&#x547D;&#x5468;&#x671F;&#x8BA9;child&#x53CD;&#x590D;&#x8FDB;&#x51FA; */</span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Animate</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span>match <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>Something <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>rest<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Animate</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<p><strong>&#x8B66;&#x544A;</strong>: &lt;Route&#x7EC4;&#x4EF6;&gt;&#x548C;<code>&lt;Route render&gt;&#x4F18;&#x5148;&#x4E8E;</code><route children="">`&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x5728;&#x540C;&#x4E00;&#x4E2A;<route>&#x4E2D;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002;</route></route></p>\n<h2 id="Route-path-string"><a href="/web/api/Route/path-string" class="internal-link">path: string</a></h2>\n<p>&#x4EFB;&#x4F55;&#x6709;&#x6548;&#x7684;URL&#x8DEF;&#x5F84;<a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a>&#x7406;&#x89E3;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>Routes without a <code>path</code> <em>always</em> match.</p>\n<h2 id="Route-exact-bool"><a href="/web/api/Route/exact-bool" class="internal-link">exact: bool</a></h2>\n<p>&#x5F53;<code>true</code>&#x65F6;&#xFF0C;&#x53EA;&#x6709;&#x8DEF;&#x5F84;&#x5339;&#x914D;<code>location.pathname</code> _exactly_&#x65F6;&#x624D;&#x5339;&#x914D;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>exact</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td><code>true</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td><code>false</code></td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n<h2 id="Route-strict-bool"><a href="/web/api/Route/strict-bool" class="internal-link">strict: bool</a></h2>\n<p>&#x5F53;&#x2019;true&#x2019;&#x65F6;&#xFF0C;&#x5177;&#x6709;&#x5C3E;&#x90E8;&#x659C;&#x7EBF;&#x7684;&#x2019;path&#x2019;&#x5C06;&#x53EA;&#x4E0E;&#x2019;location.pathname&#x2019;&#x5339;&#x914D;&#x3002; &#x5F53;<code>location.pathname</code>&#x4E2D;&#x6709;&#x9644;&#x52A0;&#x7684;URL&#x6BB5;&#x65F6;&#xFF0C;&#x8FD9;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">strict</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one/</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one/two</code></td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n<p><strong>&#x8B66;&#x544A;</strong>: <code>strict</code>&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5F3A;&#x5236;<code>location.pathname</code>&#x6CA1;&#x6709;&#x7ED3;&#x5C3E;&#x7684;&#x659C;&#x7EBF;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;<code>strict</code>&#x548C;<code>exact</code>&#x5FC5;&#x987B;&#x662F;<code>true</code>&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">strict</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td>no</td>\n</tr>\n</tbody>\n</table>\n<h2 id="Route-location-object"><a href="/web/api/Route/location-object" class="internal-link">location: object</a></h2>\n<p>&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x5143;&#x7D20;&#x8BD5;&#x56FE;&#x5339;&#x914D;&#x5B83;&#x7684;<code>path</code>&#x5230;&#x5F53;&#x524D;&#x7684;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x7684;URL&#xFF09;&#x3002;\n&#x7136;&#x800C;&#xFF0C;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x201C;&#x8DEF;&#x5F84;&#x540D;&#x201D;&#x7684;[<code>location</code>]&#xFF08;<a href="http://location.md">location.md</a>&#xFF09;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x4F20;&#x9012;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x5C06;&#x201C;<route>&#x201D;&#x5339;&#x914D;&#x5230;&#x9664;&#x5F53;&#x524D;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4F4D;&#x7F6E;&#x4EE5;&#x5916;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5219;&#x8FD9;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x5982;<a href="https://reacttraining.com/react-router/web/example/animated-transitions">&#x52A8;&#x753B;&#x8FC7;&#x5EA6;</a>&#x4F8B;&#x5B50;&#x3002;</route></p>\n<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x5143;&#x7D20;&#x88AB;&#x5C01;&#x88C5;&#x5728;&#x4E00;&#x4E2A;<code>&lt;Switch&gt;</code>&#x4E2D;&#x5E76;&#x5339;&#x914D;&#x4F20;&#x9012;&#x7ED9;<code>&lt;Switch&gt;</code>&#xFF08;&#x6216;&#x5F53;&#x524D;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF09;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x4F20;&#x9012;&#x7ED9;``Route&#x2019; &#x5C06;&#x4F1A;&#x88AB;<code>&lt;Switch&gt;</code>(given <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Switch.js#L51">here</a>)&#x4F7F;&#x7528;&#x7684;&#x8986;&#x76D6;</p>\n<h2 id="Route-sensitive-bool"><a href="/web/api/Route/sensitive-bool" class="internal-link">sensitive: bool</a></h2>\n<p>&#x5F53;&#x2019;true&#x2019;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8DEF;&#x5F84;&#x662F;__case sensitive__&#xFF0C;&#x5C06;&#x5339;&#x914D;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">sensitive</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>sensitive</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one</code></td>\n<td><code>true</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/One</code></td>\n<td><code>/one</code></td>\n<td><code>false</code></td>\n<td>no</td>\n</tr>\n</tbody>\n</table>\n',
headers:[{text:"Route render methods",slug:"route-render-methods"},{text:"Route props",slug:"route-props"},{text:"component",slug:"component"},{text:"render: func",slug:"render-func"},{text:"children: func",slug:"children-func"},{text:"path: string",slug:"path-string"},{text:"exact: bool",slug:"exact-bool"},{text:"strict: bool",slug:"strict-bool"},{text:"location: object",slug:"location-object"},{text:"sensitive: bool",slug:"sensitive-bool"}],title:{text:"<Route>",slug:"Route"}}},614:function(n,a){n.exports={markup:'<h1 id="Router"><a href="/web/api/Router" class="internal-link">&lt;Router&gt;</a></h1>\n<p>&#x6240;&#x6709;router&#x7EC4;&#x4EF6;&#x7684;&#x901A;&#x7528;&#x5E95;&#x5C42;&#x63A5;&#x53E3;. &#x901A;&#x5E38;,&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C06;&#x4F7F;&#x7528;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x9AD8;&#x7EA7;router:</p>\n<ul>\n<li><a href="/web/api/BrowserRouter" class="internal-link"><code>&lt;BrowserRouter&gt;</code></a></li>\n<li><a href="/web/api/HashRouter" class="internal-link"><code>&lt;HashRouter&gt;</code></a></li>\n<li><a href="/web/api/MemoryRouter" class="internal-link"><code>&lt;MemoryRouter&gt;</code></a></li>\n<li><a href="/native/api/NativeRouter" class="internal-link"><code>&lt;NativeRouter&gt;</code></a></li>\n<li><a href="/web/api/StaticRouter" class="internal-link"><code>&lt;StaticRouter&gt;</code></a></li>\n</ul>\n<p>&#x4F7F;&#x7528;&#x4F4E;&#x7EA7;&#x522B;&#x7684;<router>&#x6700;&#x5E38;&#x89C1;&#x7684;&#x7528;&#x4F8B;&#x662F;\n&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4E0E;Redux&#x6216;Mobx&#x4E4B;&#x7C7B;&#x7684;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5E93;&#x540C;&#x6B65;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x4E0E;React Router&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5E93;&#x5E76;&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x5B83;&#x4EC5;&#x7528;&#x4E8E;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#x3002;</router></p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n<span class="token keyword">import</span> createBrowserHistory <span class="token keyword">from</span> <span class="token string">&apos;history/createBrowserHistory&apos;</span>\n\n<span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>history<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Router-history-object"><a href="/web/api/Router/history-object" class="internal-link">history: object</a></h2>\n<p>&#x4E00;&#x4E2A; <a href="https://github.com/ReactTraining/history"><code>history</code></a> &#x7528;&#x4E8E;navigation&#x7684;&#x5BF9;&#x8C61;.</p>\n<pre><code class="language-js"><span class="token keyword">import</span> createBrowserHistory <span class="token keyword">from</span> <span class="token string">&apos;history/createBrowserHistory&apos;</span>\n\n<span class="token keyword">const</span> customHistory <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>customHistory<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Router-children-node"><a href="/web/api/Router/children-node" class="internal-link">children: node</a></h2>\n<p>A <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">single child element</a> to render.</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n',headers:[{text:"history: object",slug:"history-object"},{text:"children: node",slug:"children-node"}],title:{text:"<Router>",slug:"Router"}}},617:function(n,a){n.exports={markup:'<h1 id="StaticRouter"><a href="/web/api/StaticRouter" class="internal-link">&lt;StaticRouter&gt;</a></h1>\n<p><a href="Router.md"><code>&lt;Router&gt;</code></a>&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x4F4D;&#x7F6E;&#x3002;</p>\n<p>&#x5F53;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x70B9;&#x51FB;&#x65F6;&#xFF0C;&#x8FD9;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E32;&#x67D3;&#x573A;&#x666F;&#x4E2D;&#x53EF;&#x80FD;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x6539;&#x53D8;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x540D;&#x79F0;&#xFF1A;&#x9759;&#x6001;&#x3002; &#x5F53;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x5E76;&#x5728;&#x6E32;&#x67D3;&#x8F93;&#x51FA;&#x4E0A;&#x8FDB;&#x884C;&#x65AD;&#x8A00;&#x65F6;&#xFF0C;&#x5B83;&#x5728;&#x7B80;&#x5355;&#x6D4B;&#x8BD5;&#x4E2D;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#x3002;</p>\n<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x8282;&#x70B9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5B83;&#x4E3A;<a href="Redirect.md"><code>&lt;Redirect&gt;</code></a>&#x53D1;&#x9001;302&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x5E76;&#x4E3A;&#x5176;&#x4ED6;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x5E38;&#x89C4;HTML&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;http&apos;</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> ReactDOMServer <span class="token keyword">from</span> <span class="token string">&apos;react-dom/server&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StaticRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n\n  <span class="token comment" spellcheck="true">// This context object contains the results of the render</span>\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> html <span class="token operator">=</span> ReactDOMServer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n\n  <span class="token comment" spellcheck="true">// &#x5982;&#x679C;&#x4F7F;&#x7528;&lt;Redirect&gt;&#xFF0C;context.url&#x5C06;&#x5305;&#x542B;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x7684;URL</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      Location<span class="token punctuation">:</span> context<span class="token punctuation">.</span>url\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="StaticRouter-basename-string"><a href="/web/api/StaticRouter/basename-string" class="internal-link">basename: string</a></h2>\n<p>&#x6240;&#x6709;locations&#x7684;&#x57FA;&#x7840; URL&#x3002; &#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x57FA;&#x672C;&#x540D;&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x5BFC;&#x659C;&#x6760;,&#x4F46;&#x4E0D;&#x80FD;&#x6709;&#x659C;&#x7EBF;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">basename</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/calendar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/today<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span> <span class="token comment" spellcheck="true">// renders &lt;a href=&quot;/calendar/today&quot;&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-location-string"><a href="/web/api/StaticRouter/location-string" class="internal-link">location: string</a></h2>\n<p>&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x7684;URL&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x8282;&#x70B9;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;<code>req.url</code>.</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-location-object"><a href="/web/api/StaticRouter/location-object" class="internal-link">location: object</a></h2>\n<p>&#x4E00;&#x4E2A;&#x5F62;&#x4F3C;<code>{ pathname, search, hash, state }</code>&#x7684;&#x4F4D;&#x7F6E;&#x5BF9;&#x8C61;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">&apos;/bubblegum&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-context-object"><a href="/web/api/StaticRouter/context-object" class="internal-link">context: object</a></h2>\n<p>&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;JavaScript&#x5BF9;&#x8C61;&#x3002; &#x5728;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x5411;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#x4EE5;&#x5B58;&#x50A8;&#x6709;&#x5173;&#x6E32;&#x67D3;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5F53;&#x4E00;&#x4E2A;&#x201C;<route>&#x201D;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5C06;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x4F5C;&#x4E3A;staticContext&#x7684;prop&#x6240;&#x5448;&#x73B0;&#x7684;&#x7EC4;&#x4EF6;&#x3002; &#x67E5;&#x770B;<a href="/web/guides/server-rendering" class="internal-link">&#x670D;&#x52A1;&#x5668;&#x6E32;&#x67D3;&#x6307;&#x5357;</a>&#xFF09;&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x5982;&#x4F55;&#x81EA;&#x5DF1;&#x5B8C;&#x6210;&#x7684;&#x4FE1;&#x606F;&#x3002;</route></p>\n<p>&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x6765;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;.</p>\n<pre><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&apos;404&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2 id="StaticRouter-children-node"><a href="/web/api/StaticRouter/children-node" class="internal-link">children: node</a></h2>\n<p>A <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">single child element</a> to render.</p>\n',headers:[{text:"basename: string",slug:"basename-string"},{text:"location: string",slug:"location-string"},{text:"location: object",slug:"location-object"},{text:"context: object",slug:"context-object"},{text:"children: node",slug:"children-node"}],title:{text:"<StaticRouter>",slug:"StaticRouter"}}},620:function(n,a){n.exports={markup:'<h1 id="Switch"><a href="/web/api/Switch" class="internal-link">&lt;Switch&gt;</a></h1>\n<p>&#x5448;&#x73B0;&#x4E0E;&#x8BE5;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B50;&#x8282;&#x70B9;<a href="Route.md"><code>&lt;Route&gt;</code></a>&#xFF09;&#x6216;<a href="Redirect.md"><code>&lt;Redirect&gt;</code></a>.</p>\n<p><strong>&#x8FD9;&#x4E0E;&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;&#x961F;&#x5217;<code>&lt;Route&gt;</code>&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#xFF1F;</strong></p>\n<p><code>&lt;Switch&gt;</code>&#x662F;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x72EC;&#x6709;&#x5730;&#x5448;&#x73B0;&#x8DEF;&#x7531;*&#x3002; &#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x4E0E;&#x8BE5;&#x4F4D;&#x7F6E;&#x76F8;&#x5339;&#x914D;&#x7684;<route>&#x90FD;&#x53EF;&#x4EE5;&#x5305;&#x542B;*&#x3002; &#x8003;&#x8651;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;:</route></p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/:user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;URL&#x662F;<code>/about</code>&#xFF0C;&#x90A3;&#x4E48;<code>&lt;About&gt;</code>,<code>&lt;User&gt;</code>&#x548C;<code>&lt;NoMatch&gt;</code>&#x5C06;&#x5168;&#x90E8;&#x6E32;&#x67D3;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5168;&#x90FD;&#x5339;&#x914D;&#x8DEF;&#x5F84;&#x3002; &#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x8BBE;&#x8BA1;&#xFF0C;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x7528;&#x8BB8;&#x591A;&#x65B9;&#x5F0F;&#x5C06;`<route>&#x7EC4;&#x5408;&#x6210;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982;&#x4FA7;&#x8FB9;&#x680F;&#x548C;&#x9762;&#x5305;&#x5C51;&#xFF0C;&#x5F15;&#x5BFC;&#x9009;&#x9879;&#x5361;&#x7B49;&#x7B49;&#x3002;</route></p>\n<p>&#x4F46;&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x60F3;&#x9009;&#x62E9;&#x4E00;&#x4E2A;<code>&lt;Route&gt;</code>&#x6765;&#x6E32;&#x67D3;&#x3002; &#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;/about&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x60F3;&#x5339;&#x914D;<code>/:user</code>&#xFF08;&#x6216;&#x8005;&#x663E;&#x793A;&#x6211;&#x4EEC;&#x7684;&#x201C;404&#x201D;&#x9875;&#x9762;&#xFF09;&#x3002; &#x4EE5;&#x4E0B;&#x662F;&#x5982;&#x4F55;&#x7528;<code>Switch</code>&#x5B8C;&#x6210;&#x7684;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Switch<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/:user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x73B0;&#x5728;,&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;<code>/about</code>,<code>&lt;Switch&gt;</code>&#x5C06;&#x5F00;&#x59CB;&#x5BFB;&#x627E;&#x5339;&#x914D;&#x7684;<route><code>.</code><route path="&#x201C;/about&#x201D;"><code>&#x4F1A;&#x5339;&#x914D;&#xFF0C;</code><switch><code>&#x5C06;&#x505C;&#x6B62;&#x67E5;&#x627E;&#x5339;&#x914D;&#x5E76;&#x6E32;&#x67D3;</code><about><code>&#x3002; &#x540C;&#x6837;,&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;</code>/michael<code>&#x90A3;&#x4E48;</code><user>`&#x4F1A;&#x6E32;&#x67D3;&#x3002;</user></about></switch></route></route></p>\n<p>&#x8FD9;&#x5BF9;&#x52A8;&#x753B;&#x8F6C;&#x6362;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5339;&#x914D;&#x7684;<code>&lt;Route&gt;</code>&#x88AB;&#x6E32;&#x67D3;&#x5230;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x76F8;&#x540C;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fade</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* &#x8FD9;&#x91CC;&#x53EA;&#x6709;&#x4E00;&#x4E2A;child*/</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Fade</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fade</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* &#x8FD9;&#x91CC;&#x603B;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;child&#xFF0C;\n      &#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;null&#xFF0C;\n      &#x4F7F;&#x5F97;&#x8F6C;&#x6362;&#x66F4;&#x52A0;&#x7E41;&#x7410; */</span><span class="token punctuation">}</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Fade</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Switch-location-object"><a href="/web/api/Switch/location-object" class="internal-link">location: object</a></h2>\n<p>&#x4E00;&#x4E2A; <a href="/web/api/location" class="internal-link"><code>location</code></a> &#x7528;&#x4E8E;&#x5339;&#x914D;&#x5B50;&#x5143;&#x7D20;&#x800C;&#x4E0D;&#x662F;&#x5F53;&#x524D;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;URL&#xFF09;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>\n<h2 id="Switch-children-node"><a href="/web/api/Switch/children-node" class="internal-link">children: node</a></h2>\n<p>&#x6240;&#x6709;<switch>&#x7684;children&#x90FD;&#x5E94;&#x8BE5;&#x662F;<route>&#x6216;&#x8005;<redirect>&#x5143;&#x7D20;&#x3002; &#x53EA;&#x6709;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7684;children&#x5C06;&#x88AB;&#x6E32;&#x67D3;&#x3002;</redirect></route></switch></p>\n<p><code>&lt;Route&gt;</code>&#x5143;&#x7D20;&#x4F7F;&#x7528;&#x4ED6;&#x4EEC;&#x7684;<code>path</code>prop&#x5339;&#x914D;&#xFF0C;<code>&lt;Redirect&gt;</code>&#x5143;&#x7D20;&#x4F7F;&#x7528;&#x4ED6;&#x4EEC;&#x7684;<code>from</code>prop&#x5339;&#x914D;&#x3002; &#x6CA1;&#x6709;<code>path</code>prop&#x7684;<code>&lt;Route&gt;</code>&#x6216;&#x6CA1;&#x6709;<code>from</code>prop&#x7684;<code>&lt;Redirect&gt;</code>&#x5C06;&#x603B;&#x662F;&#x5339;&#x914D;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x3002;</p>\n<p>&#x5F53;&#x5728;<switch>&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E2A;<code>&lt;Redirect&gt;</code>&#x65F6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;<code>&lt;Route&gt;</code>&#x7684;&#x4F4D;&#x7F6E;&#x5339;&#x914D;props:<code>path</code>&#xFF0C;<code>exact</code>&#x548C;<code>strict</code>&#x3002; <code>from</code>&#x5C31;&#x662F;<code>path</code>props&#x7684;&#x522B;&#x540D;&#x3002;</switch></p>\n<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;<code>location</code>&#x5C5E;&#x6027;&#x88AB;&#x8D4B;&#x4E88;<code>&lt;Switch&gt;</code>&#xFF0C;&#x5B83;&#x5C06;&#x8986;&#x76D6;&#x5339;&#x914D;&#x7684;&#x5B50;&#x5143;&#x7D20;&#x4E0A;&#x7684;<code>location</code>&#x5C5E;&#x6027;&#x3002;</p>\n<pre><code class="language-js"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Users<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/accounts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n',
headers:[{text:"location: object",slug:"location-object"},{text:"children: node",slug:"children-node"}],title:{text:"<Switch>",slug:"Switch"}}},624:function(n,a){n.exports={markup:'<h1 id="history"><a href="/web/api/history" class="internal-link">history</a></h1>\n<p>&#x672C;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x201C;history&#x201D;&#x548C;&#x201C;history<code>&#x5BF9;&#x8C61;&#x662F;&#x6307;[the</code>history` package](<a href="https://github.com/ReactTraining/history">https://github.com/ReactTraining/history</a>)&#xFF0C;&#x5B83;&#x662F;React Router&#xFF08;&#x9664;&#x4E86;React&#x672C;&#x8EAB;&#xFF09;&#x7684;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x4F9D;&#x8D56;&#x4E4B;&#x4E00;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#x6765;&#x7BA1;&#x7406;JavaScript&#x4E2D;&#x7684;&#x4F1A;&#x8BDD;history&#x73AF;&#x5883;&#x3002;</p>\n<p>&#x4EE5;&#x4E0B;&#x672F;&#x8BED;&#x4E5F;&#x88AB;&#x4F7F;&#x7528;:</p>\n<ul>\n<li>&#x201C;browser history&#x201D; - &#x4E00;&#x4E2A;DOM&#x7279;&#x5B9A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x652F;&#x6301;HTML5&#x5386;&#x53F2;API&#x7684;Web&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F88;&#x6709;&#x7528;</li>\n<li>&#x201C;hash history&#x201D; - &#x4F20;&#x7EDF;Web&#x6D4F;&#x89C8;&#x5668;&#x7684;DOM&#x7279;&#x5B9A;&#x5B9E;&#x73B0;</li>\n<li>&#x201C;memory history&#x201D; - &#x5185;&#x5B58;&#x4E2D;&#x7684;&#x5386;&#x53F2;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x6D4B;&#x8BD5;&#x548C;React Native&#x7B49;&#x975E;DOM&#x73AF;&#x5883;&#x4E2D;&#x975E;&#x5E38;&#x6709;&#x7528;</li>\n</ul>\n<p><code>history</code> &#x5BF9;&#x8C61;&#x901A;&#x5E38;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;:</p>\n<ul>\n<li><code>length</code> - (number) &#x5386;&#x53F2;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x6761;&#x76EE;&#x6570;&#x91CF;</li>\n<li><code>action</code> - (string) &#x5F53;&#x524D;&#x884C;&#x4E3A;(<code>PUSH</code>, <code>REPLACE</code>, or <code>POP</code>)</li>\n<li><code>location</code> - (object) &#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x3002; &#x53EF;&#x80FD;&#x6709;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;:\n<ul>\n<li><code>pathname</code> - (string) URL&#x7684;&#x8DEF;&#x5F84;</li>\n<li><code>search</code> - (string) The URL query string</li>\n<li><code>hash</code> - (string) The URL hash fragment</li>\n<li><code>state</code> - (object) &#x63D0;&#x4F9B;&#x7ED9;&#x4F8B;&#x5982;&#x7279;&#x5B9A;&#x4F4D;&#x7F6E;&#x7684;&#x72B6;&#x6001; push&#xFF08;path&#xFF0C;state&#xFF09;`&#x5F53;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x88AB;&#x63A8;&#x5165;&#x5806;&#x6808;&#x65F6;&#x3002; &#x4EC5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x5185;&#x5B58;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4E2D;&#x53EF;&#x7528;&#x3002;</li>\n</ul>\n</li>\n<li><code>push(path, [state])</code> - (function) &#x5C06;&#x65B0;&#x6761;&#x76EE;&#x63A8;&#x5165;&#x5386;&#x53F2;&#x5806;&#x6808;</li>\n<li><code>replace(path, [state])</code> - (function) &#x66FF;&#x6362;&#x5386;&#x53F2;&#x5806;&#x6808;&#x4E0A;&#x7684;&#x5F53;&#x524D;&#x6761;&#x76EE;</li>\n<li><code>go(n)</code> - (function) &#x901A;&#x8FC7;<code>n</code>&#x6761;&#x76EE;&#x79FB;&#x52A8;&#x5386;&#x53F2;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x6307;&#x9488;</li>\n<li><code>goBack()</code> - (function) &#x76F8;&#x5F53;&#x4E8E; <code>go(-1)</code></li>\n<li><code>goForward()</code> - (function) &#x76F8;&#x5F53;&#x4E8E; <code>go(1)</code></li>\n<li><code>block(prompt)</code> - (function) Prevents navigation (see <a href="https://github.com/ReactTraining/history#blocking-transitions">the history docs</a>)</li>\n</ul>\n<h2 id="history-history"><a href="/web/api/history/history" class="internal-link">history &#x662F;&#x53EF;&#x53D8;&#x7684;</a></h2>\n<p>&#x5386;&#x53F2;&#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x53D8;&#x7684;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5EFA;&#x8BAE;&#x4ECE;<a href="/web/api/location" class="internal-link"><code>location</code></a>&#x7684;&#x6E32;&#x67D3;&#x9053;&#x5177;&#x8BBF;&#x95EE;<a href="/web/api/Route" class="internal-link"><code>&lt;Route&gt;</code></a>&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4ECE;<code>history.location</code>&#x3002; &#x8FD9;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x60A8;&#x5BF9;React&#x7684;&#x5047;&#x8BBE;&#x5728;&#x751F;&#x547D;&#x5468;&#x671F;&#x94A9;&#x5B50;&#x4E2D;&#x662F;&#x6B63;&#x786E;&#x7684;&#x3002; &#x4F8B;&#x5982;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Comp</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// will be true</span>\n    <span class="token keyword">const</span> locationChanged <span class="token operator">=</span> nextProps<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location\n\n    <span class="token comment" spellcheck="true">// INCORRECT, will *always* be false because history is mutable.</span>\n    <span class="token keyword">const</span> locationChanged <span class="token operator">=</span> nextProps<span class="token punctuation">.</span>history<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span>location\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Comp<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x6839;&#x636E;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x5B9E;&#x65BD;&#x60C5;&#x51B5;&#xFF0C;&#x5176;&#x4ED6;&#x5C5E;&#x6027;&#x4E5F;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a href="https://github.com/ReactTraining/history#properties">the history documentation</a> for more details.&#x3002;</p>\n',headers:[{text:"history 是可变的",slug:"history"}],title:{text:"history",slug:"history"}}},627:function(n,a){n.exports={markup:'<h1 id="location"><a href="/web/api/location" class="internal-link">location</a></h1>\n<p>Locations&#x4EE3;&#x8868;&#x73B0;&#x5728;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F60;&#x60F3;&#x8981;&#x53BB;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6216;\n&#x5373;&#x4F7F;&#x5728;&#x90A3;&#x91CC;&#x3002; &#x5B83;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x8FD9;&#x6837;:</p>\n<pre><code class="language-js"><span class="token punctuation">{</span>\n  key<span class="token punctuation">:</span> <span class="token string">&apos;ac3df4&apos;</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// &#x4E0D;&#x7528;HashHistory&#xFF01;</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/somewhere&apos;</span>\n  search<span class="token punctuation">:</span> <span class="token string">&apos;?some=search-string&apos;</span><span class="token punctuation">,</span>\n  hash<span class="token punctuation">:</span> <span class="token string">&apos;#howdy&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span>userDefined<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>router&#x5C06;&#x5728;&#x51E0;&#x4E2A;&#x5730;&#x65B9;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;location object:</p>\n<ul>\n<li><a href="/web/api/Route/component" class="internal-link">Route component</a> as <code>this.props.location</code></li>\n<li><a href="/web/api/Route/render-func" class="internal-link">Route render</a> as <code>({ location }) =&gt; ()</code></li>\n<li><a href="/web/api/Route/children-func" class="internal-link">Route children</a> as <code>({ location }) =&gt; ()</code></li>\n<li><a href="/web/api/withRouter" class="internal-link">withRouter</a> as <code>this.props.location</code></li>\n</ul>\n<p>&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;<code>history.location</code>&#x627E;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x53EF;&#x53D8;&#x7684;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5728;<a href="/web/api/history" class="internal-link">history</a>&#x6587;&#x6863;&#x4E2D;&#x9605;&#x8BFB;&#x66F4;&#x591A;&#x3002;</p>\n<p>location&#x5BF9;&#x8C61;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x6240;&#x4EE5;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x751F;&#x547D;&#x5468;&#x671F;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x786E;&#x5B9A;&#x4F55;&#x65F6;&#x5BFC;&#x822A;&#xFF0C;&#x8FD9;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x548C;&#x52A8;&#x753B;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>\n<pre><code class="language-js"><span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// navigated!</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x60A8;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4F4D;&#x7F6E;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5230;&#x5BFC;&#x822A;&#x7684;&#x5404;&#x4E2A;&#x4F4D;&#x7F6E;:</p>\n<ul>\n<li>Web <a href="/web/api/Link/to" class="internal-link">Link to</a></li>\n<li>Native <a href="/native/api/Link/to" class="internal-link">Link to</a></li>\n<li><a href="/web/api/Redirect/to" class="internal-link">Redirect to</a></li>\n<li><a href="/web/api/history/push" class="internal-link">history.push</a></li>\n<li><a href="/web/api/history/push" class="internal-link">history.replace</a></li>\n</ul>\n<p>&#x901A;&#x5E38;&#x4F60;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x201C;location123state&#x201D;&#xFF0C;&#x53EA;&#x8981;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x5230;&#x7279;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;&#x60A8;&#x60F3;&#x6839;&#x636E;&#x5BFC;&#x822A;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x800C;&#x4E0D;&#x662F;&#x4EC5;&#x8DEF;&#x5F84;&#xFF08;&#x5982;modals&#xFF09;&#x6765;&#x5206;&#x652F;UI&#xFF0C;&#x8FD9;&#x5F88;&#x6709;&#x7528;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment" spellcheck="true">// &#x5E73;&#x65F6;&#x4F60;&#x6240;&#x7528;&#x7684;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere<span class="token punctuation">&quot;</span>/</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment" spellcheck="true">// &#x4F46;&#x662F;&#x4E00;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E0B;&#x6765;&#x4EE3;&#x66FF;:</span>\n<span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token punctuation">{</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/somewhere&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> fromDashboard<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\nhistory<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>\nhistory<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x6700;&#x540E;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;location&#x9012;&#x7ED9;&#x4EE5;&#x4E0B;&#x7EC4;&#x4EF6;</p>\n<ul>\n<li><a href="/web/api/Route/location" class="internal-link">Route</a></li>\n<li><a href="/web/api/Switch/location" class="internal-link">Switch</a></li>\n</ul>\n<p>&#x8FD9;&#x5C06;&#x963B;&#x6B62;&#x4ED6;&#x4EEC;&#x5728;router&#x2019;s state&#x4E0B;&#x4F7F;&#x7528;&#x5B9E;&#x9645;location&#x3002; &#x8FD9;&#x5BF9;&#x52A8;&#x753B;&#x548C;&#x7B49;&#x5F85;&#x5BFC;&#x822A;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x6216;&#x8005;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x4F60;&#x60F3;&#x6B3A;&#x9A97;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5728;&#x4E0D;&#x540C;&#x4E8E;&#x771F;&#x5B9E;&#x4F4D;&#x7F6E;&#x7684;&#x4F4D;&#x7F6E;&#x6E32;&#x67D3;&#x3002;</p>\n',headers:[],title:{text:"location",slug:"location"}}},630:function(n,a){n.exports={markup:'<h1 id="match"><a href="/web/api/match" class="internal-link">match</a></h1>\n<p>match&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6709;&#x5173;&#x201C;<route path="">&#x201D;&#x5982;&#x4F55;&#x5339;&#x914D;URL&#x7684;&#x4FE1;&#x606F;&#x3002; match&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;</route></p>\n<ul>\n<li><code>params</code> - (object) Key/value&#x5BF9;&#x4ECE;&#x4E0E;&#x8DEF;&#x5F84;&#x52A8;&#x6001;&#x6BB5;&#x76F8;&#x5BF9;&#x5E94;&#x7684;URL&#x89E3;&#x6790;&#x3002;</li>\n<li><code>isExact</code> - (boolean) &#x5982;&#x679C;&#x6574;&#x4E2A;URL&#x5339;&#x914D;&#xFF0C;&#x5219;&#x4E3A;&#x201C;true&#x201D;&#xFF08;&#x4E0D;&#x5305;&#x542B;&#x5C3E;&#x968F;&#x5B57;&#x7B26;</li>\n<li><code>path</code> - (string) &#x7528;&#x4E8E;&#x5339;&#x914D;&#x7684;&#x8DEF;&#x5F84;&#x6A21;&#x5F0F;&#x3002; &#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x5D4C;&#x5957; <code>&lt;Route&gt;</code>s</li>\n<li><code>url</code> - (string) URL&#x7684;&#x5339;&#x914D;&#x90E8;&#x5206;&#x3002; &#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x5D4C;&#x5957; <code>&lt;Link&gt;</code>s</li>\n</ul>\n<p>&#x4F60;&#x4F1A;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x8BBF;&#x95EE;<code>match</code>&#x5BF9;&#x8C61;:</p>\n<ul>\n<li><a href="/web/api/Route/component" class="internal-link">Route component</a> as <code>this.props.match</code></li>\n<li><a href="/web/api/Route/render-func" class="internal-link">Route render</a> as <code>({ match }) =&gt; ()</code></li>\n<li><a href="/web/api/Route/children-func" class="internal-link">Route children</a> as <code>({ match }) =&gt; ()</code></li>\n<li><a href="/web/api/withRouter" class="internal-link">withRouter</a> as <code>this.props.match</code></li>\n<li><a href="/web/api/matchPath" class="internal-link">matchPath</a> as the return value</li>\n</ul>\n<p>&#x5982;&#x679C;Route&#x6CA1;&#x6709;<code>path</code>&#xFF0C;&#x56E0;&#x6B64;&#x603B;&#x662F;&#x5339;&#x914D;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x6700;&#x63A5;&#x8FD1;&#x7684;parent&#x5339;&#x914D;&#x3002; <code>withRouter</code>&#x4E5F;&#x4E00;&#x6837;</p>\n',headers:[],title:{text:"match",slug:"match"}}},632:function(n,a){n.exports={markup:'<h1 id="matchPath"><a href="/web/api/matchPath" class="internal-link">matchPath</a></h1>\n<p>&#x8FD9;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x4F7F;&#x7528;<code>&lt;Route&gt;</code>&#x4F7F;&#x7528;&#x7684;&#x76F8;&#x540C;&#x7684;&#x5339;&#x914D;&#x4EE3;&#x7801;&#xFF0C;&#x9664;&#x4E86;&#x5728;&#x6B63;&#x5E38;&#x7684;&#x6E32;&#x67D3;&#x5468;&#x671F;&#x5916;&#xFF0C;&#x5C31;&#x50CF;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x6536;&#x96C6;&#x6570;&#x636E;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x4E00;&#x6837;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> matchPath <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token keyword">const</span> match <span class="token operator">=</span> <span class="token function">matchPath</span><span class="token punctuation">(</span><span class="token string">&apos;/users/123&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  path<span class="token punctuation">:</span> <span class="token string">&apos;/users/:id&apos;</span><span class="token punctuation">,</span>\n  exact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  strict<span class="token punctuation">:</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="matchPath-pathname"><a href="/web/api/matchPath/pathname" class="internal-link">pathname</a></h2>\n<p>&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4F60;&#x60F3;&#x8981;&#x5339;&#x914D;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x3002; &#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x4F7F;&#x7528;\n&#x8FD9;&#x5728;&#x4E0E;Node.js&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x8FD9;&#x5C06;&#x662F;<code>req.url</code>.</p>\n<h2 id="matchPath-props"><a href="/web/api/matchPath/props" class="internal-link">props</a></h2>\n<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x5339;&#x914D;&#x7684;props&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x76F8;&#x540C;&#x7684;\n&#x5230;&#x5339;&#x914D;&#x7684;props<code>Route</code>&#x63A5;&#x53D7;:</p>\n<pre><code class="language-js"><span class="token punctuation">{</span>\n  path<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// like /users/:id</span>\n  strict<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// optional, defaults to false</span>\n  exact <span class="token comment" spellcheck="true">// optional, defaults to false</span>\n<span class="token punctuation">}</span>\n</code></pre>\n',headers:[{text:"pathname",slug:"pathname"},{text:"props",slug:"props"}],title:{text:"matchPath",slug:"matchPath"}}},635:function(n,a){n.exports={markup:'<h1 id="withRouter"><a href="/web/api/withRouter" class="internal-link">withRouter</a></h1>\n<p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>withRouter</code>&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x8BBF;&#x95EE;<a href="/web/api/history" class="internal-link"><code>history</code></a>&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x6700;&#x63A5;&#x8FD1;&#x7684;<a href="/web/api/Route" class="internal-link"><code>&lt;Route&gt;</code></a>&#x2019;s <a href="/web/api/match" class="internal-link"><code>match</code></a>&#x3002; &#x5F53;router&#x6E32;&#x67D3;&#x65F6;&#xFF0C;<code>withRouter</code>&#x4F1A;&#x5C06;&#x66F4;&#x65B0;&#x540E;&#x7684;<code>match</code>&#xFF0C;<code>location</code>&#x548C;<code>history</code>props&#x4F20;&#x9012;&#x7ED9;&#x5305;&#x88F9;&#x7EC4;&#x4EF6;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&apos;prop-types&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token comment" spellcheck="true">// A simple component that shows the pathname of the current location</span>\n<span class="token keyword">class</span> <span class="token class-name">ShowTheLocation</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>\n    match<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>\n    location<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>\n    history<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> location<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are now at <span class="token punctuation">{</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&quot;connected&quot;&#x7684;&#x65B0;&#x7EC4;&#x4EF6;&#xFF08;&#x501F;&#x7528;redux&#x672F;&#x8BED;&#xFF09;&#x5230;router&#x3002;</span>\n\n<span class="token keyword">const</span> ShowTheLocationWithRouter <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>ShowTheLocation<span class="token punctuation">)</span>\n</code></pre>\n<h4>Important Note</h4>\n<p><code>withRouter</code>&#x4E0D;&#x4F1A;&#x8BA2;&#x9605;&#x50CF;React Redux&#x7684;<code>connect</code>&#x8FD9;&#x6837;&#x7684;&#x4F4D;&#x7F6E;&#x66F4;&#x6539;&#xFF0C;&#x4EE5;&#x4FBF;&#x8FDB;&#x884C;&#x72B6;&#x6001;&#x66F4;&#x6539;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x5728;&#x4F4D;&#x7F6E;&#x66F4;&#x6539;&#x4ECE;&#x201C;<router>&#x201D;&#x7EC4;&#x4EF6;&#x4F20;&#x51FA;&#x4E4B;&#x540E;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;<code>withRouter</code>&#x4E0D;&#x4F1A;&#x5728;&#x8DEF;&#x7531;&#x8F6C;&#x6362;&#x4E0A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#xFF0C;&#x9664;&#x975E;&#x5B83;&#x7684;&#x7236;&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002; &#x5982;&#x679C;&#x4F7F;&#x7528;<code>withRouter</code>&#x6765;&#x9632;&#x6B62;&#x66F4;&#x65B0;&#x88AB;<code>shouldComponentUpdate</code>&#x963B;&#x585E;&#xFF0C;&#x90A3;&#x4E48;<code>withRouter</code>&#x5305;&#x88C5;&#x5B9E;&#x73B0;<code>shouldComponentUpdate</code>&#x7684;&#x7EC4;&#x4EF6;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x4F7F;&#x7528;Redux&#x65F6;&#xFF1A;</router></p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// This gets around shouldComponentUpdate</span>\n<span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token comment" spellcheck="true">// or</span>\n<span class="token function">compose</span><span class="token punctuation">(</span>\n  withRouter<span class="token punctuation">,</span>\n  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// &#x8FD9;&#x4E0D;&#x662F;</span>\n<span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">withRouter</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token comment" spellcheck="true">// &#x4E5F;&#x4E0D;&#x662F;</span>\n<span class="token function">compose</span><span class="token punctuation">(</span>\n  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  withRouter\n<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x8BF7;&#x53C2;&#x9605; <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md">this guide</a> &#x4E86;&#x89E3;&#x66F4;&#x591A;&#x4FE1;&#x606F;.</p>\n<h4>&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;</h4>\n<p>&#x6240;&#x6709;non-react&#x7279;&#x5B9A;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x548C;&#x5C01;&#x88C5;&#x7EC4;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x5230;&quot;connected&quot;&#x7EC4;&#x4EF6;&#x3002;</p>\n<h2 id="withRouter-componentwrappedcomponent"><a href="/web/api/withRouter/componentwrappedcomponent" class="internal-link">Component.WrappedComponent</a></h2>\n<p>&#x88AB;&#x5305;&#x88C5;&#x7684;&#x7EC4;&#x4EF6;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x7EC4;&#x4EF6;&#x4E0A;&#x88AB;&#x516C;&#x5F00;&#x4E3A;&#x9759;&#x6001;&#x5C5E;&#x6027;<code>WrappedComponent</code>&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x4F7F;&#x7528;\n&#x7528;&#x4E8E;&#x72EC;&#x7ACB;&#x6D4B;&#x8BD5;&#x7EC4;&#x4EF6;&#x7B49;&#x7B49;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment" spellcheck="true">// MyComponent.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// MyComponent.test.js</span>\n<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&apos;./MyComponent&apos;</span>\n<span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent.WrappedComponent</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="withRouter-wrappedcomponentref-func"><a href="/web/api/withRouter/wrappedcomponentref-func" class="internal-link">wrappedComponentRef: func</a></h2>\n<p>&#x4E00;&#x4E2A;&#x5C06;&#x4F5C;&#x4E3A;<code>ref</code>prop&#x4F20;&#x9012;&#x7ED9;&#x5305;&#x88C5;&#x7EC4;&#x4EF6;&#x7684;&#x51FD;&#x6570;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>component<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">wrappedComponentRef</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>c <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>component <span class="token operator">=</span> c<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n',
headers:[{text:"Component.WrappedComponent",slug:"componentwrappedcomponent"},{text:"wrappedComponentRef: func",slug:"wrappedcomponentref-func"}],title:{text:"withRouter",slug:"withRouter"}}},638:function(n,a){n.exports={markup:'<h1 id="testing"><a href="/web/guides/testing" class="internal-link">Testing</a></h1>\n<p>React Router&#x4F9D;&#x9760;React&#x4E0A;&#x4E0B;&#x6587;&#x6765;&#x5DE5;&#x4F5C;&#x3002; &#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x4F60;&#x7684;&#x65B9;&#x5F0F;\n&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>\n<h2 id="testing-context"><a href="/web/guides/testing/context" class="internal-link">Context</a></h2>\n<p>&#x5982;&#x679C;&#x4F60;&#x8BD5;&#x56FE;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x5448;&#x73B0;<code>&lt;Link&gt;</code>&#x6216;<code>&lt;Route&gt;</code>&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E9B;&#x6709;&#x5173;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x9519;&#x8BEF;&#x548C;&#x8B66;&#x544A;&#x3002; &#x867D;&#x7136;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x8BD5;&#x56FE;&#x81EA;&#x5DF1;&#x53BB;&#x6389;&#x8DEF;&#x7531;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x4F60;&#x628A;&#x4F60;&#x7684;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5305;&#x88C5;&#x5728;&#x4E00;&#x4E2A;<code>&lt;StaticRouter&gt;</code>&#x6216;<code>&lt;MemoryRouter&gt;</code>&#x4E2D;&#x3002; &#x4E00;&#x63A2;&#x7A76;&#x7ADF;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Sidebar</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token comment" spellcheck="true">// ...</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleExpand<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          expand\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">{</span>users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>user <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>\n               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>path<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n                 <span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span>\n               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// broken</span>\n<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;it expands when the button is clicked&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">click</span><span class="token punctuation">(</span>theButton<span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>theThingToBeOpen<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// fixed!</span>\n<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;it expands when the button is clicked&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">click</span><span class="token punctuation">(</span>theButton<span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>theThingToBeOpen<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>&#x8FD9;&#x91CC;&#x7684;&#x6240;&#x6709;&#x90FD;&#x662F;&#x5B83;&#x7684;&#x3002;</p>\n<h2 id="testing-routes"><a href="/web/guides/testing/routes" class="internal-link">&#x4ECE;&#x7279;&#x5B9A;routes&#x5F00;&#x59CB;</a></h2>\n<p><code>&lt;MemoryRouter&gt;</code>&#x652F;&#x6301;<code>initialEntries</code>&#x548C;<code>initialIndex</code>props&#xFF0C;\n&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF08;&#x6216;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4EFB;&#x4F55;&#x8F83;&#x5C0F;&#x7684;&#x90E8;&#x5206;&#xFF09;&#x5728;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;\n&#x4F4D;&#x7F6E;&#x3002;</p>\n<pre><code class="language-js"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;current user is active in sidebar&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span> <span class="token attr-name">initialEntries</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span> <span class="token string">&apos;/users/2&apos;</span> <span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">expectUserToBeActive</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="testing-"><a href="/web/guides/testing/" class="internal-link">&#x5BFC;&#x822A;</a></h2>\n<p>&#x6211;&#x4EEC;&#x6709;&#x5F88;&#x591A;&#x6D4B;&#x8BD5;&#xFF0C;&#x5F53;&#x4F4D;&#x7F6E;&#x6539;&#x53D8;&#x65F6;&#xFF0C;routes&#x5DE5;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x53EF;&#x80FD;&#x4E0D;&#x9700;&#x8981;&#x6D4B;&#x8BD5;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5FC5;&#x987B;&#x7684;&#x8BDD;&#xFF0C;&#x56E0;&#x4E3A;&#x6240;&#x6709;&#x4E8B;&#x60C5;&#x90FD;&#x662F;&#x5728;&#x6E32;&#x67D3;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x505A;&#x4E00;&#x4E9B;&#x6709;&#x70B9;&#x806A;&#x660E;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> unmountComponentAtNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-dom&apos;</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> MemoryRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Simulate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-addons-test-utils&apos;</span>\n\n<span class="token comment" spellcheck="true">// &#x4E00;&#x79CD;&#x5728;MemoryRouter&#x4E2D;&#x5448;&#x73B0;&#x5E94;&#x7528;&#x7684;&#x4EFB;&#x4F55;&#x90E8;&#x5206;&#x7684;&#x65B9;&#x6CD5;</span>\n<span class="token comment" spellcheck="true">// you pass it a list of steps to execute when the location</span>\n<span class="token comment" spellcheck="true">// changes, it will call back to you with stuff like</span>\n<span class="token comment" spellcheck="true">// `match` and `location`, and `history` so you can control</span>\n<span class="token comment" spellcheck="true">// the flow and make assertions.</span>\n<span class="token keyword">const</span> renderTestSequence <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n  initialEntries<span class="token punctuation">,</span>\n  initialIndex<span class="token punctuation">,</span>\n  subject<span class="token punctuation">:</span> Subject<span class="token punctuation">,</span>\n  steps\n<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;div&apos;</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">Assert</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n\n    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> nextStep <span class="token operator">=</span> steps<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextStep<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">nextStep</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span>\n          <span class="token attr-name">initialIndex</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>initialIndex<span class="token punctuation">}</span></span>\n          <span class="token attr-name">initialEntries</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>initialEntries<span class="token punctuation">}</span></span>\n        <span class="token punctuation">&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>Assert <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subject</span><span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Assert</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> div<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// &#x6211;&#x4EEC;&#x7684;&#x4E3B;&#x4F53;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x6D4B;&#x8BD5;&#x4EFB;&#x4F55;&#x5206;</span>\n<span class="token comment" spellcheck="true">// &#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x90E8;&#x5206;</span>\n<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click-me<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment" spellcheck="true">// &#x5B9E;&#x9645;&#x6D4B;&#x8BD5;&#xFF01;</span>\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&apos;navigates around&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n\n  <span class="token function">renderTestSequence</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\n    <span class="token comment" spellcheck="true">// tell it the subject you&apos;re testing</span>\n    subject<span class="token punctuation">:</span> App<span class="token punctuation">,</span>\n\n    <span class="token comment" spellcheck="true">// and the steps to execute each time the location changes</span>\n    steps<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n\n      <span class="token comment" spellcheck="true">// initial render</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> history<span class="token punctuation">,</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n        <span class="token comment" spellcheck="true">// assert the screen says what we think it should</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Welcome/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n        <span class="token comment" spellcheck="true">// now we can imperatively navigate as the test</span>\n        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&apos;/dashboard&apos;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n      <span class="token comment" spellcheck="true">// second render from new location</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Dashboard/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n        <span class="token comment" spellcheck="true">// or we can simulate clicks on Links instead of</span>\n        <span class="token comment" spellcheck="true">// using history.push</span>\n        Simulate<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#click-me&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n          button<span class="token punctuation">:</span> <span class="token number">0</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n      <span class="token comment" spellcheck="true">// final render</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname <span class="token operator">===</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span>\n        <span class="token comment" spellcheck="true">// you&apos;ll want something like `done()` so your test</span>\n        <span class="token comment" spellcheck="true">// fails if you never make it here.</span>\n        <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n',headers:[{text:"Context",slug:"context"},{text:"从特定routes开始",slug:"routes"},{text:"导航",slug:""}],title:{text:"Testing",slug:"testing"}}}});